{"version":3,"sources":["webpack:///src/components/mheader.vue","webpack:///./src/components/mheader.vue?b0eb","webpack:///./src/components/mheader.vue","webpack:///./src/common/js/store.js","webpack:///src/components/tab.vue","webpack:///./src/components/tab.vue?a9fa","webpack:///./src/components/tab.vue","webpack:///src/base/scroll.vue","webpack:///./src/base/scroll.vue?68e2","webpack:///./src/base/scroll.vue","webpack:///src/base/progressbar.vue","webpack:///./src/base/progressbar.vue?d452","webpack:///./src/base/progressbar.vue","webpack:///src/base/progresscircle.vue","webpack:///./src/base/progresscircle.vue?7c4e","webpack:///./src/base/progresscircle.vue","webpack:///./src/common/js/config.js","webpack:///./src/common/js/util.js","webpack:///src/base/confirm.vue","webpack:///./src/base/confirm.vue?9c1f","webpack:///./src/base/confirm.vue","webpack:///src/components/playlist.vue","webpack:///./src/components/playlist.vue?28a1","webpack:///./src/components/playlist.vue","webpack:///src/components/player.vue","webpack:///./src/components/player.vue?0e49","webpack:///./src/components/player.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0f33","webpack:///./src/App.vue","webpack:///./src/common/js/jsonp.js","webpack:///./src/api/config.js","webpack:///./src/api/recommend.js","webpack:///./src/common/js/dom.js","webpack:///src/base/slide.vue","webpack:///./src/base/slide.vue?ae7f","webpack:///./src/base/slide.vue","webpack:///src/base/loading.vue","webpack:///./src/base/loading.vue?eb8f","webpack:///./src/base/loading.vue","webpack:///./src/common/js/mixin.js","webpack:///src/components/recommend.vue","webpack:///./src/components/recommend.vue?4649","webpack:///./src/components/recommend.vue","webpack:///./src/common/js/Singer.js","webpack:///src/base/listview.vue","webpack:///./src/base/listview.vue?37c8","webpack:///./src/base/listview.vue","webpack:///src/components/singer.vue","webpack:///./src/api/singer.js","webpack:///./src/components/singer.vue?14e4","webpack:///./src/components/singer.vue","webpack:///src/components/rank.vue","webpack:///./src/api/rank.js","webpack:///./src/components/rank.vue?b196","webpack:///./src/components/rank.vue","webpack:///src/base/searchbox.vue","webpack:///./src/base/searchbox.vue?8a07","webpack:///./src/base/searchbox.vue","webpack:///./src/api/search.js","webpack:///./src/common/js/uid.js","webpack:///./src/api/song.js","webpack:///./src/common/js/song.js","webpack:///src/base/noresult.vue","webpack:///./src/base/noresult.vue?f5ce","webpack:///./src/base/noresult.vue","webpack:///src/components/suggest.vue","webpack:///./src/components/suggest.vue?2f99","webpack:///./src/components/suggest.vue","webpack:///src/base/searchlist.vue","webpack:///./src/base/searchlist.vue?5c54","webpack:///./src/base/searchlist.vue","webpack:///src/components/search.vue","webpack:///./src/components/search.vue?0566","webpack:///./src/components/search.vue","webpack:///src/base/songlist.vue","webpack:///./src/base/songlist.vue?ca68","webpack:///./src/base/songlist.vue","webpack:///src/components/musiclist.vue","webpack:///./src/components/musiclist.vue?5f0c","webpack:///./src/components/musiclist.vue","webpack:///src/components/singerdetail.vue","webpack:///./src/components/singerdetail.vue?5cfd","webpack:///./src/components/singerdetail.vue","webpack:///src/components/rankdetail.vue","webpack:///./src/components/rankdetail.vue?4ddd","webpack:///./src/components/rankdetail.vue","webpack:///src/components/songListdetail.vue","webpack:///./src/components/songListdetail.vue?b2e0","webpack:///./src/components/songListdetail.vue","webpack:///./src/router/index.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/getters.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/common/image/loding.png","webpack:///./src/common/image/loading.gif"],"names":["mheader","login","watch","extends_default","Object","vuex_esm","components_mheader","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","on","click","$event","preventDefault","logins","_v","staticRenderFns","src_components_mheader","__webpack_require__","normalizeComponent","ssrContext","setstore","value","key","localStorage","setItem","stringify_default","getstore","getItem","JSON","parse","e","js_store","getlookhistory","getPlaylist","getMode","getSearchHisory","getLikelist","getsequenceList","getIndex","setlookhistory","setPlaylist","setMode","setSearchHisory","setLikelist","setsequenceList","setIndex","tab","components_tab","attrs","tag","to","nativeOn","setlookhisttory","src_components_tab","tab_normalizeComponent","base_scroll","Number","Boolean","_this","_initScroll","_this2","probeType","pos","refresh","arguments","_this3","selectortype_template_index_0_src_base_scroll","_t","src_base_scroll","scroll_normalizeComponent","progressbar","offsetWidth","_getPercent","_triggerPercent","clientWidth","getBoundingClientRect","style","newpersent","base_progressbar","progressClick","touchstart","progressTouchStart","touchmove","progressTouchMove","touchend","progressTouchEnd","src_base_progressbar","progressbar_normalizeComponent","progresscircle","dashArray","base_progresscircle","width","radius","height","viewBox","version","xmlns","r","cx","cy","fill","stroke-dasharray","stroke-dashoffset","dashOffset","src_base_progresscircle","progresscircle_normalizeComponent","playMode","shuffle","list","console","log","min","max","_arr","slice","i","len","length","j","Math","floor","random","t","base_confirm","String","entering","back","selectortype_template_index_0_src_base_confirm","name","enter","directives","rawName","expression","stopPropagation","class","_s","text","confirm","confirmBtnText","cancel","cancelBtnText","src_base_confirm","confirm_normalizeComponent","components_playlist","methods","currentSong","mode","sequenceList","item","id","index","show","deleteSonglist","hide","computed","newVal","scroll","selectortype_template_index_0_src_components_playlist","before-enter","wrapper","before-leave","leave","outwraptranslate","after-enter","end","after-leave","wrapperactive","enterOrLeave","outwrappertranslate","outtranslate","modeicon","changemode","modeText","showConfirm","data","_l","refInFor","selectItem","getCurrentIcon","toggleLike","likeit","deleteOne","sure","deletelist","src_components_playlist","playlist_normalizeComponent","player","duration","play","_getPosAndScale","transform","animation","done","_getPosAndScale2","transition","x","y","scale","pageX","pageY","startX","startY","innerWidth","window","left","deltaX","percent","opacity","ifsroll","abs","deltaY","time","getlyric","then","lyric","handleLyric","currentLineNum","catch","lineNum","n","undefined","num","once","togglePlaying","stop","_this4","url","playing","pause","togglePlay","currentTime","_this5","innerText","lines","onProgressBarChange","progresscirle","playlist","_this6","_this7","components_player","Enter","afterEnter","Leave","afterLeave","~touchstart","firstPlay","src","image","top-enter","isenter","top-leave","domProps","innerHTML","singer","middleTouchStart","middleTouchMove","middleTouchEnd","cdCls","isPureMusic","playingLyric","listenScroll","currentLyric","clicklyric","line","lycurrent","txt","_e","bottom-enter","bottom-leave","active","currentShow","format","percentChange","percentChanging","onProgressBarChanging","changeMode","iconMode","prev","playIcon","next","likeIcon","fullScreen","open","miniIcon","showPlaylist","dataUrl","autoplay","ready","paused","error","ended","timeupdate","updateTime","App","player_normalizeComponent","histroylook","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","jsonp_jsonp","option","indexOf","k","encodeURIComponent","substring","param","promise_default","a","resolve","reject","jsonp_default","err","commonParams","g_tk","inCharset","outCharset","notice","options","debug","addClass","el","className","RegExp","test","hasClass","newClass","split","push","join","slide","update","resizeTimer","_onScrollEnd","_play","enable","pageIndex","disable","timer","destroy","init","_setSlideWidth","_initDots","_initSlide","children","slideWidth","loop","threshold","speed","interval","base_slide","currentPageIndex","src_base_slide","slide_normalizeComponent","loading","base_loading","title","src_base_loading","loading_normalizeComponent","playlistMixin","handlePlaylist","Error","mounted","$nextTick","activated","recommend","_getRecommend","_getDiscList","bottom","assign_default","platform","needNewCode","slider","hostUin","sin","ein","sortId","categoryId","rnd","dissid","components_recommend","discList","recommends","href","linkUrl","staticStyle","load","loadImage","creator","dissname","src_components_recommend","recommend_normalizeComponent","Singer","_ref","classCallCheck_default","avatar","Array","_calculateHeight","listGroup","val","setAttribute","getAttribute","ahchorIndex","delta","listHeight","newY","fixedTop","base_listview","probe-type","group","onShortcutTouchStart","onShortcutTouchMove","current","currentIndex","data-index","fixedTitle","src_base_listview","listview_normalizeComponent","listview","components_singer","_getSingerList","channel","page","pagesize","pagenum","loginUin","singers","js_Singer","Fsinger_mid","Fsinger_name","Findex","ret","selectortype_template_index_0_src_components_singer","select","selectSinger","src_components_singer","singer_normalizeComponent","uin","topList","_getRankList","components_rank","toplist","loadImg","song","songname","singername","src_components_rank","rank_normalizeComponent","rank","searchbox","blur","fn","delay","newQuery","_len","args","_key","clearTimeout","setTimeout","apply","base_searchbox","type","placeholder","input","target","composing","query","clearQuery","src_base_searchbox","searchbox_normalizeComponent","search_search","perpage","zhida","w","p","zhidaqu","catZhida","flag","ie","sem","aggr","uid","remoteplace","_uid","getUid","Date","getUTCMilliseconds","round","song_debug","urlMap","song_Song","Song","mid","album","filename","_genUrl","songmid","res","retcode","base64","decode","cid","guid","code","vkey","items","createSong","musicDate","songid","forEach","s","filterSinger","albumname","albummid","createSonglist","map","noresult","base_noresult","src_base_noresult","noresult_normalizeComponent","suggest","search","singermid","result","hasMore","curnum","curpage","totalnum","components_suggest","pullup","beforeScroll","beforeScrollData","scrollToEnd","getIconCls","getSingernameOrSongname","src_components_suggest","suggest_normalizeComponent","searchlist","base_searchlist","searches","components_search","searchlist_normalizeComponent","clearHistory","searchHistory","_getHotKey","selectortype_template_index_0_src_components_search","queryover","onQueryChange","scrollData","refreshDelay","addQuery","delete","deleteHis","blurInput","save","src_components_search","search_normalizeComponent","songlist","base_songlist","getRankCls","getRankText","getDesc","src_base_songlist","songlist_normalizeComponent","musiclist","_bottom","songs","clientHeight","imageHeight","bgImage","persent","translateY","zIndex","components_musiclist","listen-scroll","str","src_components_musiclist","musiclist_normalizeComponent","_getDetail","singerId","order","begin","songstatus","musicData","components_singerdetail","src_components_singerdetail","singerdetail_normalizeComponent","singerdetail","topid","tpl","topTitle","picUrl","_getRankDetail","rankList","components_rankdetail","src_components_rankdetail","rankdetail_normalizeComponent","rankdetail","disstid","dic","json","utf8","onlysong","_getSongList","imgurl","components_songListdetail","src_components_songListdetail","songListdetail_normalizeComponent","songListdetail","vue_runtime_esm","use","vue_router_esm","routes","path","component","redirect","_findindex","findIndex","actions_randomPlay","_ref2","commit","randomlist","actions_selectPlay","_ref3","_ref4","state","actions_likeSong","_ref5","_ref6","likelist","actions_unlikeSong","_ref7","_ref8","actions_deleteSonglist","_ref9","actions_deleteSong","_ref10","pIndex","splice","sIndex","actions_saveHistory","_ref11","history","actions_delHistory","_ref12","actions_clearHistory","_ref13","actions_insertSong","_ref14","fpIndex","currentSIndex","fsIndex","getters_singer","getters_playlist","getters_sequenceList","getters_mode","getters_currentIndex","getters_currentSong","getters_searchHistory","getters_songlist","state_state","parseInt","store_state","store_mutations","mutations","defineProperty_default","_mutations","bol","src_store","Store","actions","actions_namespaceObject","getters","getters_namespaceObject","strict","plugins","config","productionTip","vue_lazyload_default","router","store","h","module","exports"],"mappings":"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","file":"static/js/app.568e6b883894be633937.js","sourcesContent":["<template>\r\n  <div class=\"m-header\">\r\n    <div class=\"person\" ref=\"login\" @click.prevent=\"logins\"></div>\r\n    <div class=\"icon\"></div>\r\n    <h1 class=\"text\">3G music</h1>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapMutations, mapActions } from \"vuex\";\r\nexport default {\r\n  data(){\r\n    return {};\r\n  },\r\n  methods:{\r\n    logins(){\r\n      console.log('注册或者登陆');\r\n      console.log('判断状态 若已登陆就显示个人页面,若未登陆 登陆页面');\r\n      console.log(this.login);\r\n    }\r\n  },\r\n  watch:{\r\n    ...mapGetters([\"login\"])\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.m-header{\r\n  height: 44px;\r\n  position: relative;\r\n  flex-direction: row;\r\n  text-align: center;\r\n  background-color:#31c27c;\r\n  display: flex;\r\n  color: #fff;\r\n  justify-content:center;\r\n  align-items:center;\r\n}\r\n.person{\r\n  display: inline-block;\r\n  height: 32px;\r\n  width: 32px;\r\n  position: absolute;\r\n  background-image:url('./../common/image/login.svg');\r\n  left: 0;\r\n}\r\n.icon{\r\n  display: inline-block;\r\n  height: 32px;\r\n  width: 32px;\r\n  background-image:url('./../common/image/icon.png');\r\n  margin-right: 9px;\r\n}\r\n.text{\r\n  line-height: 44px;\r\n  font-size: 18px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/mheader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-header\"},[_c('div',{ref:\"login\",staticClass:\"person\",on:{\"click\":function($event){$event.preventDefault();return _vm.logins($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"icon\"}),_vm._v(\" \"),_c('h1',{staticClass:\"text\"},[_vm._v(\"3G music\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-786f54b6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mheader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-786f54b6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mheader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mheader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mheader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-786f54b6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./mheader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mheader.vue\n// module id = null\n// module chunks = ","const store = {\r\n    getstore: {\r\n        getlookhistory: () => {\r\n            return getstore('lookhirtory');\r\n        },\r\n        getPlaylist: () => {\r\n            return getstore('playlist');\r\n        },\r\n        getMode: () => {\r\n            return getstore('playmodes') ? getstore('playmodes') : '0';\r\n        },\r\n        getSearchHisory: () => {\r\n            return getstore('setSearchHisory');\r\n        },\r\n        getLikelist: () => {\r\n            return getstore('setLikelist');\r\n        },\r\n        getsequenceList: () => {\r\n            return getstore('sequenceList');\r\n        },\r\n        getIndex: () => {\r\n            return getstore('currentIndex');\r\n        }\r\n    },\r\n    setstore: {\r\n        setlookhistory: (key) => {\r\n            setstore('lookhirtory', key);\r\n        },\r\n        setPlaylist: (key) => {\r\n            setstore('playlist', key);\r\n        },\r\n        setMode: (key) => {\r\n            setstore('playmodes', key);\r\n        },\r\n        setSearchHisory: (key) => {\r\n            setstore('setSearchHisory', key);\r\n        },\r\n        setLikelist: (key) => {\r\n            setstore('setLikelist', key);\r\n        },\r\n        setsequenceList: (key) => {\r\n            setstore('sequenceList', key);\r\n        },\r\n        setIndex: (key) => {\r\n            return setstore('currentIndex', key);\r\n        }\r\n    }\r\n}\r\n\r\nfunction setstore(value, key) {\r\n    // console.log(value, key);\r\n    localStorage.setItem(value, JSON.stringify(key));\r\n}\r\n\r\nfunction getstore(value) {\r\n    let key = localStorage.getItem(value);\r\n    // console.log(value, key);\r\n    try {\r\n        key = JSON.parse(key);\r\n    } catch (e) {\r\n\r\n    }\r\n    return key;\r\n}\r\nexport default store\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/store.js","<template>\r\n  <div class=\"tab\">\r\n      <router-link tag=\"div\" class=\"tab-item\" to=\"/recommend\" @click.native=\"setlookhisttory('recommend')\">\r\n      <span class=\"tab-link\">推荐</span>\r\n      </router-link>\r\n      <router-link tag=\"div\" class=\"tab-item\" to=\"/singer\" @click.native=\"setlookhisttory('singer')\">\r\n      <span class=\"tab-link\">歌手</span>\r\n      </router-link>\r\n      <router-link tag=\"div\" class=\"tab-item\" to=\"/rank\" @click.native=\"setlookhisttory('rank')\">\r\n      <span class=\"tab-link\">排行</span>\r\n      </router-link>\r\n      <router-link tag=\"div\" class=\"tab-item\" to=\"/search\" @click.native=\"setlookhisttory('search')\">\r\n      <span class=\"tab-link\">搜索</span>\r\n      </router-link>\r\n  </div>\r\n</template>\r\n<script>\r\nimport store from '../common/js/store.js';\r\nexport default {\r\n    methods:{\r\n        setlookhisttory(value){\r\n            console.log('路由切换',value);\r\n            store.setstore.setlookhistory(value);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.tab\r\n{\r\n    display: flex;\r\n    height: 44px;\r\n    line-height: 44px;\r\n    font-size: 14px;\r\n}\r\n.tab-item\r\n{\r\n     flex: 1;\r\n     text-align: center;\r\n     padding-bottom: 2px;\r\n }\r\n .tab-link\r\n {\r\n    color:#333;\r\n }\r\n.router-link-active \r\n {\r\n    border-bottom : peru 2px solid;\r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/tab.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab\"},[_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/recommend\"},nativeOn:{\"click\":function($event){_vm.setlookhisttory('recommend')}}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"推荐\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/singer\"},nativeOn:{\"click\":function($event){_vm.setlookhisttory('singer')}}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"歌手\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/rank\"},nativeOn:{\"click\":function($event){_vm.setlookhisttory('rank')}}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"排行\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/search\"},nativeOn:{\"click\":function($event){_vm.setlookhisttory('search')}}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"搜索\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f57b144\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/tab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f57b144\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tab.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f57b144\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./tab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tab.vue\n// module id = null\n// module chunks = ","<template>\r\n   <div ref=\"wrapper\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\nexport default {\r\n  props: {\r\n    probeType: {\r\n      type: Number, //类型\r\n      default: 1\r\n    },\r\n    click: {\r\n      type: Boolean, //是否开启点击\r\n      default: true\r\n    },\r\n    data: {\r\n      type: Array, //数据\r\n      default: null\r\n    },\r\n    listenScroll: {\r\n      type: Boolean, //是否监听滚动\r\n      default: false\r\n    },\r\n    // 延迟刷新\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    pullup: {\r\n      type: Boolean,\r\n      default: false\r\n    }, //上拉刷新\r\n    // 滚动前是否触发事件，如：滚动前让输入框失去焦点，避免滚动搜索结果时移动端键盘遮挡\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this._initScroll();\r\n    });\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      if (!this.$refs.wrapper) {\r\n        return;\r\n      }\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click\r\n      });\r\n      // console.log('scroll初始化成功');\r\n      if (this.listenScroll) {\r\n        // console.log('监听scroll');\r\n        this.scroll.on(\"scroll\", pos => {\r\n          this.$emit(\"scroll\", pos);\r\n        });\r\n      }\r\n      if (this.pullup) {\r\n        // console.log('监听pullup')\r\n        this.scroll.on(\"scrollEnd\", () => {\r\n          if (this.scroll.y <= this.scroll.maxScrollY + 50) {\r\n            //滑到底部\r\n            this.$emit(\"scrollToEnd\");\r\n          }\r\n        });\r\n      }\r\n      if (this.beforeScroll) {\r\n        this.scroll.on(\"beforeScrollStart\", () => {\r\n          this.$emit(\"beforeScroll\");\r\n        });\r\n      }\r\n    },\r\n    refresh() {\r\n      this.scroll && this.scroll.refresh();\r\n    },\r\n    scrollToElement() {\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments);\r\n    },\r\n    scrollTo() {\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments);\r\n    }\r\n  },\r\n  watch: {\r\n    data() {\r\n      this.$nextTick(() => {\r\n        this.refresh();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/scroll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05dc98b1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/scroll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05dc98b1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./scroll.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05dc98b1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./scroll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/scroll.vue\n// module id = null\n// module chunks = ","<template>\r\n   <div class=\"progress-bar\" ref=\"progressBar\" @click=\"progressClick\">\r\n    <div class=\"bar-inner\">\r\n      <div class=\"progress\" ref=\"progress\"></div>\r\n      <div class=\"progress-btn-wrapper\" ref=\"progressBtn\" @touchstart.prevent=\"progressTouchStart\"\r\n           @touchmove.prevent=\"progressTouchMove\"\r\n           @touchend=\"progressTouchEnd\">\r\n        <div class=\"progress-btn\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  created() {\r\n    this.touch = {};\r\n  },\r\n  methods: {\r\n    progressTouchStart(e) {\r\n      this.touch.initiated = true; //设置触摸状态\r\n      this.touch.startX = e.touches[0].pageX; //记录触碰开始位置\r\n      this.touch.left = this.$refs.progress.clientWidth; //记录进度条长度\r\n    },\r\n    progressTouchMove(e) {\r\n      if (!this.touch.initiated) {\r\n        return;\r\n      }\r\n      const deltaX = e.touches[0].pageX - this.touch.startX;//计算滑动距离\r\n      const offsetWidth = Math.min(this.$refs.progressBar.clientWidth, Math.max(0, this.touch.left + deltaX)); //计算新距离\r\n      this._offset(offsetWidth)\r\n      //触发正在变化事件\r\n      this.$emit('percentChanging', this._getPercent())\r\n    },\r\n    progressTouchEnd() {\r\n      this.touch.initiated = false;\r\n      //移动结束改变percent 触发事件\r\n      this._triggerPercent();\r\n    },\r\n    setProgressOffest(percent) {\r\n      if (percent > 0 && !this.touch.initiated) {\r\n        const barWidth = this.$refs.progressBar.clientWidth;\r\n        const offsetWidth = percent * barWidth;\r\n        this._offset(offsetWidth);\r\n      }\r\n    },\r\n    progressClick(e) {\r\n      const rect = this.$refs.progressBar.getBoundingClientRect();\r\n      const offsetWidth = e.pageX - rect.left - 8; //计算两者误差\r\n      this._offset(offsetWidth); //设置进度条位置\r\n      this._triggerPercent();\r\n    },\r\n    _offset(offsetWidth) {\r\n      this.$refs.progress.style.width = `${offsetWidth}px`;\r\n      this.$refs.progressBtn.style[\r\n        \"transform\"\r\n      ] = `translate3d(${offsetWidth}px,0,0)`;\r\n    },\r\n    _triggerPercent() {\r\n      //触发父组件事件 percent改变\r\n      this.$emit(\"percentChange\", this._getPercent());\r\n    },\r\n    _getPercent() {\r\n      const barWidth = this.$refs.progressBar.clientWidth; //进度条总长\r\n      return this.$refs.progress.clientWidth / barWidth; //返回百分比\r\n    }\r\n  },\r\n  watch: {\r\n    percent(newpersent) {\r\n      this.setProgressOffest(newpersent);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.progress-bar {\r\n  height: 30px;\r\n}\r\n.bar-inner {\r\n  position: relative;\r\n  top: 13px;\r\n  height: 4px;\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n.progress {\r\n  position: absolute;\r\n  height: 100%;\r\n  background: #fff;\r\n}\r\n.progress-btn-wrapper {\r\n  position: absolute;\r\n  left: -8px;\r\n  top: -13px;\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n.progress-btn {\r\n  position: relative;\r\n  top: 7px;\r\n  box-sizing: border-box;\r\n  width: 16px;\r\n  height: 16px;\r\n  border: 3px solid #00000096;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/progressbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"progressBar\",staticClass:\"progress-bar\",on:{\"click\":_vm.progressClick}},[_c('div',{staticClass:\"bar-inner\"},[_c('div',{ref:\"progress\",staticClass:\"progress\"}),_vm._v(\" \"),_c('div',{ref:\"progressBtn\",staticClass:\"progress-btn-wrapper\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.progressTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.progressTouchMove($event)},\"touchend\":_vm.progressTouchEnd}},[_c('div',{staticClass:\"progress-btn\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2acc7993\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/progressbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2acc7993\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./progressbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2acc7993\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./progressbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/progressbar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"progress-circle\">\r\n      <svg :width=\"radius\" :height=\"radius\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle class=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"></circle>\r\n      <circle class=\"progress-barc\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\" :stroke-dasharray=\"dashArray\"\r\n              :stroke-dashoffset=\"dashOffset\"></circle>\r\n      </svg>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props:{\r\n      radius:{\r\n          type:Number,\r\n          default:100\r\n      },\r\n      percent:{\r\n          type:Number,\r\n          default:0\r\n      }\r\n  },\r\n  data(){\r\n      return {\r\n          dashArray:Math.PI*100\r\n      }\r\n  },\r\n  computed: {\r\n      dashOffset () {\r\n        return (1 - this.percent) * this.dashArray;\r\n      }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n .progress-circle{\r\n     position: relative;\r\n }\r\n circle{\r\n     stroke-width: 8px;\r\n     transform-origin: center;\r\n }\r\n .progress-background{\r\n     transform: scale(0.9);\r\n        stroke: rgba(255, 205, 49, 0.5);\r\n }\r\n .progress-barc{\r\n     transform: scale(0.9) rotate(-90deg);\r\n        stroke: #31c27c;\r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/progresscircle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-circle\"},[_c('svg',{attrs:{\"width\":_vm.radius,\"height\":_vm.radius,\"viewBox\":\"0 0 100 100\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{staticClass:\"progress-background\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\"}}),_vm._v(\" \"),_c('circle',{staticClass:\"progress-barc\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\",\"stroke-dasharray\":_vm.dashArray,\"stroke-dashoffset\":_vm.dashOffset}})]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b371f3f0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/progresscircle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b371f3f0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./progresscircle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progresscircle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progresscircle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b371f3f0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./progresscircle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/progresscircle.vue\n// module id = null\n// module chunks = ","export const playMode = {\r\n        sequence: 0,\r\n        loop: 1,\r\n        once: 2,\r\n        random: 3\r\n    } //播放模式 0顺序播放 1循环播放 2 随机播放 3单曲循环\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/config.js","export function shuffle(list) {\r\n    console.log('洗牌成功');\r\n    let _arr = list.slice(); //拷贝数组\r\n    for (let i = 0, len = _arr.length; i < len; i++) {\r\n        let j = getrandomInt(0, i);\r\n        let t = _arr[i];\r\n        _arr[i] = _arr[j];\r\n        _arr[j] = t; //洗牌\r\n    }\r\n    return _arr;\r\n}\r\n\r\nfunction getrandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\n//截流 fn函数 delay时间\r\nexport function debounce(fn, delay) {\r\n    let timer = null;\r\n    return function(...args) {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(() => {\r\n            fn.apply(this, args)\r\n        }, delay)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/util.js","<template>\r\n    <transition name=\"confirm-fade\" @enter=\"enter\">\r\n        <div class=\"confirm\" v-show=\"showFlag\" @click.stop>\r\n          <div class=\"confirm-wrapper\">\r\n            <div class=\"confirm-content\" :class=\"entering\">\r\n                <p class=\"confirm-text\">{{ text }}</p>\r\n\r\n                <div class=\"confirm-operate\">\r\n                    <div class=\"operate-btn left\" @click=\"confirm\">{{ confirmBtnText }}</div>\r\n                    <div class=\"operate-btn\"  @click=\"cancel\">{{ cancelBtnText }}</div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </transition>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      showFlag: false,\r\n      center:false\r\n    };\r\n  },\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      default: \"确认清空播放队列吗?\"\r\n    },\r\n    cancelBtnText: {\r\n      type: String,\r\n      default: \"取消\"\r\n    },\r\n    confirmBtnText: {\r\n      type: String,\r\n      default: \"确定\"\r\n    }\r\n  },\r\n  methods: {\r\n    show() {\r\n      this.showFlag = true;\r\n    },\r\n    enter(){\r\n        this.center = true;\r\n        console.log(this.entering);\r\n    },\r\n    back(){\r\n        this.showFlag = false;\r\n        this.center = false;\r\n    },\r\n    confirm(){\r\n      this.$emit('sure');\r\n      this.back();\r\n    },\r\n    cancel(){\r\n      this.$emit('canel');\r\n      this.back();\r\n    }\r\n  },\r\n  computed:{\r\n      entering(){\r\n          return this.center ? 'confirm-content-enter':'';\r\n      }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.confirm {\r\n  position: fixed;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 998;\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n}\r\n.confirm-wrapper{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 999;\r\n}\r\n.confirm-fade-enter-active {\r\n  animation: confirm-fadein 0.3s;\r\n}\r\n.confirm-fade-leave-active{\r\n    animation:confirm-fadeout 0.3s;\r\n}\r\n.confirm-content-enter{\r\n  animation:confirm-zoom 0.3s;\r\n}\r\n.confirm-content{\r\n    width: 270px;\r\n    border-top:2px solid red;\r\n    background-color: #fff;\r\n}\r\n.confirm-text{\r\n    width: 100%;\r\n    height: 65px;\r\n    text-align: center;\r\n    line-height: 65px;\r\n    font-size: 15px;\r\n    border-bottom: 1px solid #00000017;\r\n}\r\n.confirm-operate{\r\n    display: flex;\r\n    position: relative;\r\n}\r\n.operate-btn{\r\n     width: 50%;\r\n     height: 30px;\r\n     line-height: 30px;\r\n     font-size: 15px;\r\n     text-align: center;\r\n}\r\n.left{\r\n    border-right: 1px solid #00000017;\r\n    color: red;\r\n}\r\n@keyframes confirm-fadein {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n@keyframes confirm-fadeout {\r\n  0% {\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n}\r\n@keyframes confirm-zoom {\r\n  0% {\r\n    transform: scale(0);\r\n  }\r\n  50% {\r\n    transform: scale(1.1);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/confirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"confirm-fade\"},on:{\"enter\":_vm.enter}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"confirm\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"confirm-wrapper\"},[_c('div',{staticClass:\"confirm-content\",class:_vm.entering},[_c('p',{staticClass:\"confirm-text\"},[_vm._v(_vm._s(_vm.text))]),_vm._v(\" \"),_c('div',{staticClass:\"confirm-operate\"},[_c('div',{staticClass:\"operate-btn left\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.confirmBtnText))]),_vm._v(\" \"),_c('div',{staticClass:\"operate-btn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelBtnText))])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a97026c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/confirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a97026c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./confirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a97026c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./confirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/confirm.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"listfade\" @before-enter=\"wrapper\" @before-leave=\"wrapper\"  @leave=\"outwraptranslate\" @after-enter=\"end\" @after-leave=\"end\">\r\n      <div class=\"playlist\" @click=\"hide\" v-show=\"showFlag\">  \r\n          <div class=\"play-list-wrapper\" @click.stop :class=\"{ 'wrapperactive': enterOrLeave,'outwrappertranslate':outtranslate }\">\r\n              <!-- 头部列表 -->\r\n              <div class=\"list-header\">\r\n                  <h1 class=\"play-list-title\">\r\n                      <i class=\"play-list-icon\" :class=\"modeicon\" @click.prevent=\"changemode\"></i>\r\n                      <span class=\"play-list-text\">{{modeText}}</span>\r\n                      <span class=\"play-list-clear\" @click=\"showConfirm\"></span>\r\n                  </h1>\r\n              </div>\r\n              <!-- 中部列表 -->\r\n              <scroll ref=\"scrollRef\" :data=\"sequenceList\" class=\"list-content\" >\r\n                <transition-group name=\"play-list\" tag=\"ul\">\r\n                  <li :key=\"item.id\" ref=\"listRef\" class=\"play-list-item\" v-for=\"(item,index) in sequenceList\" @click=\"selectItem(item,index)\">\r\n                    <span class=\"list-item-text\" :class=\"getCurrentIcon(item)\">{{ item.name }}</span>\r\n                    <span  class=\"list-item-like\" @click.stop=\"toggleLike(item)\">\r\n                      <i class=\"list-like-icon\" :class=\"likeit(item)\"></i>\r\n                    </span>\r\n                    <span class=\"play-list-delete\" @click.stop=\"deleteOne(item)\">\r\n                      <i class=\"list-icon-delete\"></i>\r\n                    </span>\r\n                  </li>\r\n                </transition-group>\r\n              </scroll>\r\n              <!-- 下部添加 -->\r\n              <!-- 关闭 -->\r\n              <div class=\"list-close\">\r\n                <span @click=\"hide\">关闭</span>\r\n              </div>\r\n          </div>\r\n          <confirm ref=\"confirmRef\" @sure=\"deletelist\"></confirm>\r\n      </div>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapMutations, mapActions } from \"vuex\";\r\nimport { playMode } from \"../common/js/config\";\r\nimport { shuffle } from \"../common/js/util\";\r\nimport confirm from \"../base/confirm\";\r\nimport scroll from \"../base/scroll\";\r\nexport default {\r\n  data(){\r\n    return {\r\n        showFlag:false,\r\n        enterOrLeave:false,\r\n        outtranslate:false\r\n        }\r\n  },\r\n  methods: {\r\n    wrapper(){\r\n      this.enterOrLeave = true;\r\n    },\r\n    outwraptranslate(){\r\n      this.outtranslate = true;\r\n    },\r\n    end(){\r\n      this.enterOrLeave = false;\r\n      this.outtranslate = false;\r\n    },\r\n    show(){\r\n      this.showFlag = true;\r\n      this.$nextTick(()=>{\r\n         this.$refs.scrollRef.refresh();\r\n          this.scrollToCurrent(this.currentSong);\r\n      })\r\n    },\r\n    hide(){\r\n      this.showFlag = false;\r\n    },\r\n    changemode() {\r\n      const mode = (this.mode + 1) % 4;\r\n      this.setPlayMode(mode);\r\n      let list = null;\r\n      if (mode === playMode.random) {\r\n        list = shuffle(this.sequenceList);\r\n      } else {\r\n        list = this.sequenceList;\r\n      }\r\n      //保证currentIndex不变\r\n      this.resetCurrentIndex(list);\r\n      this.setPlayList(list);\r\n    },\r\n    deleteOne(item){\r\n      this.deleteSong(item);\r\n      //删空歌单\r\n      if (!this.playlist.length) {\r\n        this.showFlag = false;\r\n      }\r\n    },\r\n     resetCurrentIndex(list) {\r\n      //寻找index\r\n      let index = list.findIndex(item => {\r\n        return item.id === this.currentSong.id;\r\n      });\r\n      //重设曲目\r\n      this.setCurrentIndex(index);\r\n    },\r\n    showConfirm(){\r\n        this.$refs.confirmRef.show();\r\n    },\r\n    deletelist(){\r\n      console.log('清空播放列表');\r\n      this.deleteSonglist();\r\n      this.hide();\r\n    },\r\n     getCurrentIcon(item) {\r\n      if (this.currentSong.id === item.id) {\r\n        return 'icon-playlist'\r\n      }\r\n      return ''\r\n    },\r\n    toggleLike(item){\r\n      console.log(item);\r\n      if (!this._likesong(item)) {\r\n        //喜欢\r\n        this.likeSong({\r\n          song: item\r\n        });\r\n      } else {\r\n        //不喜欢\r\n        this.unlikeSong({\r\n          song: item\r\n        });\r\n      }\r\n    },\r\n    likeit(item){\r\n      return this._likesong(item)? 'itemlike':'itemunlike';\r\n    },\r\n    _likesong(cur) {\r\n      if (this.likelist.findIndex((item) => {\r\n         return item.id === cur.id;\r\n        }) === -1) {\r\n        //未喜欢\r\n        return false;\r\n      } else {\r\n        //喜欢\r\n        return true;\r\n      }\r\n    },\r\n    selectItem(item,index){\r\n      //切歌\r\n      if (this.mode === playMode.random) {\r\n        //随机播放\r\n        index = this.playlist.findIndex((song) => {\r\n          return song.id === item.id\r\n        })\r\n      }\r\n      //设置当前歌曲\r\n      this.setCurrentIndex(index);\r\n      // 如果是暂停，切歌后自动播放\r\n      this.setPlayingState(true);\r\n    },\r\n    scrollToCurrent(current){\r\n      let index = this.sequenceList.findIndex((song) => {\r\n        return song.id === current.id\r\n      })\r\n      this.$refs.scrollRef.scrollToElement(this.$refs.listRef[index], 300);\r\n    },\r\n    ...mapMutations({\r\n      setPlayingState: \"SET_PLAYING_STATE\",\r\n      setCurrentIndex: \"SET_CURRENT_INDEX\",\r\n      setPlayMode: \"SET_PLAY_MODE\",\r\n      setPlayList: \"SET_PLAYLIST\",\r\n      setlikeSongs: \"SET_LIKE_LIST\"\r\n    }),\r\n    ...mapActions(['deleteSonglist','deleteSong','likeSong','unlikeSong'])\r\n  },\r\n  computed: {\r\n    modeicon() {\r\n      return this.mode === playMode.sequence\r\n        ? \"list-sequence\"\r\n        : this.mode === playMode.loop\r\n          ? \"list-loop\"\r\n          : this.mode === playMode.once ? \"list-once\" : \"list-random\";\r\n    },\r\n    modeText() {\r\n      let mode = \"\";\r\n      if (this.mode === playMode.sequence) {\r\n        mode = \"顺序播放\";\r\n      } else if (this.mode === playMode.loop) {\r\n        mode = \"循环播放\";\r\n      } else if (this.mode === playMode.once) {\r\n        mode = \"单曲循环\";\r\n      } else if (this.mode === playMode.random) {\r\n        mode = \"随机播放\";\r\n      } else {\r\n        mode = \"\";\r\n      }\r\n      return `${mode}(${this.playlist.length}首)`;\r\n    },\r\n    ...mapGetters([\r\n      \"sequenceList\",\r\n      \"mode\",\r\n      \"likelist\",\r\n      \"currentSong\",\r\n      \"playlist\"\r\n    ])\r\n  },\r\n  watch: {\r\n    // 切歌后滚动至第一个\r\n    currentSong(newVal, oldVal) {\r\n      if (!newVal.id || !oldVal.id) {\r\n        return\r\n      }\r\n      if (!this.showFlag || newVal.id === oldVal.id) {\r\n        return\r\n      }\r\n      this.scrollToCurrent(newVal)\r\n    }\r\n  },\r\n  components:{\r\n      confirm,\r\n      scroll\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.playlist {\r\n  display: flex;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 200;\r\n  height: 100vh;\r\n  position: fixed;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n.play-list-wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background-color: #f5f5f5;\r\n}\r\n.list-header {\r\n  position: relative;\r\n  padding: 10px 30px 10px 20px;\r\n  border-bottom: 1px solid #00000017;\r\n}\r\n.play-list-title {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.play-list-icon {\r\n  margin-right: 10px;\r\n  font-size: 30px;\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n.play-list-clear{\r\n   position: absolute;\r\n   right: 30px;\r\n   width: 30px;\r\n   height: 30px;\r\n   background-image: url(\"../common/image/list-delete.svg\");\r\n}\r\n.play-list-text {\r\n  font-size: 16px;\r\n}\r\n.list-sequence {\r\n  background-image: url(\"../common/image/list-sequence.svg\");\r\n}\r\n.list-loop {\r\n  background-image: url(\"../common/image/list-loop.svg\");\r\n}\r\n.list-once {\r\n  background-image: url(\"../common/image/list-once.svg\");\r\n}\r\n.list-random {\r\n  background-image: url(\"../common/image/list-random.svg\");\r\n}\r\n.list-close{\r\n   width: 100%;\r\n   position: relative;\r\n   bottom: 0;\r\n   height: 50px;\r\n   border-top: 1px solid #00000017;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n}\r\n.list-content {\r\n      max-height: 240px;\r\n      overflow: hidden;\r\n}\r\n.play-list-item{\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  padding: 0 30px 0 20px;\r\n  overflow: hidden;\r\n  margin-left: 15px;\r\n  border-bottom: 1px solid #00000017;\r\n  position: relative;\r\n}\r\n.icon-playlist{\r\n  color: #008000a8;\r\n}\r\n.play-list-delete{\r\n  position: absolute;\r\n  right: 20px;\r\n  display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n}\r\n.list-item-text{\r\n  font-size: 14px;\r\n}\r\n.list-icon-delete{\r\n  display: inline-block;\r\n  width: 14px;\r\n  height: 14px;\r\n  background-image: url(../common/image/list-icon-delete.svg);\r\n}\r\n.list-item-like{\r\n  position: absolute;\r\n  right: 60px;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n}\r\n.list-like-icon{\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n.itemlike{\r\n  background-image: url(../common/image/list-item-like.svg);\r\n}\r\n.itemunlike{\r\n  background-image: url(../common/image/item-unlike.svg);\r\n}\r\n.listfade-enter-active,.listfade-leave-active{\r\n  transition: opacity 0.3s;\r\n}\r\n.listfade-enter,.listfade-leave-to{\r\n  opacity: 0;\r\n}\r\n.wrapperactive{\r\n  transition: all 0.3s;\r\n}\r\n.outwrappertranslate{\r\n  transform: translate3d(0, 100%, 0);\r\n}\r\n.play-list-enter-active,.play-list-leave-active{\r\n   transition: all 0.1s;\r\n} \r\n.play-list-enter,.play-list-leave-to {\r\n   height: 0;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/playlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"listfade\"},on:{\"before-enter\":_vm.wrapper,\"before-leave\":_vm.wrapper,\"leave\":_vm.outwraptranslate,\"after-enter\":_vm.end,\"after-leave\":_vm.end}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"playlist\",on:{\"click\":_vm.hide}},[_c('div',{staticClass:\"play-list-wrapper\",class:{ 'wrapperactive': _vm.enterOrLeave,'outwrappertranslate':_vm.outtranslate },on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"play-list-title\"},[_c('i',{staticClass:\"play-list-icon\",class:_vm.modeicon,on:{\"click\":function($event){$event.preventDefault();return _vm.changemode($event)}}}),_vm._v(\" \"),_c('span',{staticClass:\"play-list-text\"},[_vm._v(_vm._s(_vm.modeText))]),_vm._v(\" \"),_c('span',{staticClass:\"play-list-clear\",on:{\"click\":_vm.showConfirm}})])]),_vm._v(\" \"),_c('scroll',{ref:\"scrollRef\",staticClass:\"list-content\",attrs:{\"data\":_vm.sequenceList}},[_c('transition-group',{attrs:{\"name\":\"play-list\",\"tag\":\"ul\"}},_vm._l((_vm.sequenceList),function(item,index){return _c('li',{key:item.id,ref:\"listRef\",refInFor:true,staticClass:\"play-list-item\",on:{\"click\":function($event){_vm.selectItem(item,index)}}},[_c('span',{staticClass:\"list-item-text\",class:_vm.getCurrentIcon(item)},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',{staticClass:\"list-item-like\",on:{\"click\":function($event){$event.stopPropagation();_vm.toggleLike(item)}}},[_c('i',{staticClass:\"list-like-icon\",class:_vm.likeit(item)})]),_vm._v(\" \"),_c('span',{staticClass:\"play-list-delete\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteOne(item)}}},[_c('i',{staticClass:\"list-icon-delete\"})])])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"list-close\"},[_c('span',{on:{\"click\":_vm.hide}},[_vm._v(\"关闭\")])])],1),_vm._v(\" \"),_c('confirm',{ref:\"confirmRef\",on:{\"sure\":_vm.deletelist}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c6a554a8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/playlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c6a554a8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./playlist.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./playlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./playlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c6a554a8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./playlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/playlist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"player\" v-show=\"playlist.length>0\">\r\n    <transition name=\"normal\" @enter=\"Enter\" @after-enter=\"afterEnter\" @leave=\"Leave\" @after-leave=\"afterLeave\">\r\n      <div class=\"normal-player\" v-show=\"fullScreen\" @touchstart.once=\"firstPlay\">\r\n          <!-- 背景 -->\r\n          <div class=\"background\">\r\n              <img :src=\"currentSong.image\" width=\"100%\" height=\"100%\">\r\n          </div>\r\n          <!-- top -->\r\n          <div class=\"player-top\" ref=\"top\" :class=\"{'top-enter':isenter,'top-leave':!isenter}\">\r\n              <div class=\"player-back\" @click=\"back\">\r\n                  <i class=\"player-icon-back\"></i>\r\n              </div>\r\n              <h1 class=\"player-title\" v-html=\"currentSong.name\"></h1>\r\n              <h2 class=\"subtitle\" v-html=\"currentSong.singer\"></h2>\r\n          </div>\r\n          <!-- middle -->\r\n          <div class=\"player-middle\" @touchstart.prevent=\"middleTouchStart\"\r\n             @touchmove.prevent=\"middleTouchMove\"\r\n             @touchend=\"middleTouchEnd\">\r\n              <div class=\"middle-l\" ref=\"middleL\">\r\n                  <div class=\"cd-wrapper\" ref=\"cdWrapper\">\r\n                      <div class=\"cd\" :class=\"cdCls\">\r\n                          <img :src=\"currentSong.image\" class=\"cdimage\">\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"cd-lyric-wrapper\">\r\n                    <p class=\"lytext\" v-show=\"isPureMusic\">此歌曲为没有填词的纯音乐，请您欣赏</p>\r\n                    <div class=\"playing-lyric\" v-show=\"!isPureMusic\">{{playingLyric}}</div>\r\n                  </div>\r\n              </div>\r\n              <scroll class=\"middle-r\" ref=\"lyricList\" :listenScroll=\"true\" :data=\"currentLyric&&currentLyric.lines\">\r\n              <div class=\"lyric-wrapper\">\r\n                  <div v-if=\"currentLyric\" @click=\"clicklyric\">\r\n                      <p ref=\"lyricLine\" class=\"lytext\" v-for=\"(line,index) of currentLyric.lines\" :class=\"{'lycurrent': currentLineNum === index}\">{{ line.txt }}</p>\r\n                  </div>\r\n                  <p class=\"lytext\" v-show=\"isPureMusic\">此歌曲为没有填词的纯音乐，请您欣赏</p>\r\n              </div>\r\n              </scroll>\r\n          </div>\r\n          <!-- bottom -->\r\n          <div class=\"player-bottom\" ref=\"bottom\" :class=\"{'bottom-enter':isenter,'bottom-leave':!isenter}\">\r\n              <div class=\"dot-wrapper\">\r\n                <span class=\"dot\" :class=\"{'active': currentShow === 'cd'}\"></span>\r\n                <span class=\"dot\" :class=\"{'active': currentShow === 'lyric'}\"></span>\r\n              </div>\r\n              <div class=\"progress-wrapper\">\r\n                <span class=\"time time-l\">{{format(currentTime)}}</span>\r\n                    <div class=\"progress-bar-wrapper\">\r\n                        <progressbar ref=\"progressBar\":percent=\"percent\" @percentChange=\"onProgressBarChange\" @percentChanging=\"onProgressBarChanging\"/>\r\n                    </div>\r\n                <span class=\"time time-r\">{{format(currentSong.duration)}}</span>\r\n              </div>\r\n               <div class=\"operators\">\r\n                <!-- 播放模式 -->\r\n                 <div class=\"musicicon i-left ab\"  @click=\"changeMode\">\r\n                    <i :class=\"iconMode\" ></i>\r\n                </div>\r\n                <!-- 上一首 -->\r\n                <div class=\"musicicon i-left\" >\r\n                   <i @click=\"prev\" class=\"icon-prev\" ref=\"prev\"></i>\r\n                </div>\r\n                <!-- 播放与暂停 -->\r\n                 <div class=\"musicicon i-center\" >\r\n                    <i  @click.prevent=\"togglePlaying\" :class=\"playIcon\" ref=\"play\"></i>\r\n                </div>\r\n                <!-- 下一首 -->\r\n                <div class=\"musicicon i-right\" >\r\n                  <i  @click=\"next\" class=\"icon-next\"  ref=\"next\"></i>\r\n                </div>\r\n                <!-- 喜欢 -->\r\n                <div class=\"musicionc i-right ac\">\r\n                  <i @click=\"toggleLike\" :class=\"likeIcon\"></i>\r\n                </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    </transition >\r\n    <!-- mini播放器 -->\r\n    <transition name=\"mini\">\r\n     <div class=\"mini-player\" v-show=\"!fullScreen\" @click=\"open\">\r\n      <div class=\"minicon\" >\r\n          <img class=\"minicd\" :src=\"currentSong.image\" :class=\"cdCls\" width=\"40\" height=\"40\">\r\n      </div>\r\n      <div class=\"minitext\">\r\n          <h2 class=\"minname\" v-html=\"currentSong.name\"></h2>\r\n          <p class=\"mindesc\" v-html=\"currentSong.singer\"></p>\r\n      </div>\r\n      <div class=\"procontrol\">\r\n        <progresscirle :radius=\"radius\" :percent=\"percent\">\r\n          <i @click.prevent.stop=\"togglePlaying\" class=\"icon-mini\" :class=\"miniIcon\"></i>\r\n        </progresscirle>\r\n      </div>\r\n     <div class=\"listcontrol\" @click.stop.prevent=\"showPlaylist\">\r\n        <i class=\"icon-list\"></i>\r\n     </div>\r\n     </div>\r\n    </transition>\r\n    <!-- 播放列表 -->\r\n    <playlist ref=\"playlistref\"></playlist>\r\n         <!--播放器内核-->\r\n    <audio ref=\"audio\" :src=\"dataUrl\" @playing=\"ready\" @pause=\"paused\" @error=\"error\" @ended=\"ended\" @timeupdate=\"updateTime\" autoplay id=\"music-aduio\"></audio>\r\n  </div>\r\n</template>\r\n<script>\r\nimport scroll from \"../base/scroll\";\r\nimport animations from \"create-keyframe-animation\"; //动画库\r\nimport progressbar from \"../base/progressbar\";\r\nimport progresscirle from \"../base/progresscircle\";\r\nimport { mapGetters, mapMutations, mapActions } from \"vuex\";\r\nimport { playMode } from \"../common/js/config\";\r\nimport { shuffle } from \"../common/js/util\";\r\nimport Lyric from \"lyric-parser\";\r\nimport playlist from \"../components/playlist\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentTime: 0, //当前歌曲播放时间\r\n      radius: 32, //半径\r\n      currentLyric: null, //歌词\r\n      currentLineNum: 0, //歌词行数\r\n      currentShow: \"cd\", //展示界面默认 cd\r\n      prrgresschanging: false, //进度条正在改变标志\r\n      playingLyric: \"无歌词数据\",\r\n      isPureMusic: false, //纯音乐\r\n      entering: false //进入标志\r\n    };\r\n  },\r\n  created() {\r\n    this.touch = {};\r\n  },\r\n  mounted() {},\r\n  computed: {\r\n    isenter() {\r\n      return this.entering ? true : false;\r\n    },\r\n    cdCls() {\r\n      return this.playing ? \"cdplay\" : \"cdplay pause\";\r\n    },\r\n    iconMode() {\r\n      return this.mode === playMode.sequence\r\n        ? \"icon-squence\"\r\n        : this.mode === playMode.loop\r\n          ? \"icon-loop\"\r\n          : this.mode === playMode.once ? \"icon-once\" : \"icon-random\";\r\n    },\r\n    playIcon() {\r\n      return this.playing ? \"icon-puase\" : \"iconplay\";\r\n    },\r\n    likeIcon() {\r\n      return this._likesong() ? \"icon-like\" : \"icon-unlike\";\r\n    },\r\n    miniIcon() {\r\n      return this.playing ? \"minpuase\" : \"minplay\";\r\n    },\r\n    percent() {\r\n      return this.currentTime / this.currentSong.duration;\r\n    },\r\n    dataUrl() {\r\n      // return this.currentSong?'https://dl.stream.qqmusic.qq.com/C100' + this.currentSong.mid + '.m4a?fromtag=46':null;\r\n      // return this.currentSong.url ? this.currentSong.url :'https://dl.stream.qqmusic.qq.com/C100undefined.m4a?fromtag=46';\r\n      return this.currentSong.url ? this.currentSong.url :null;\r\n    },\r\n    ...mapGetters([\r\n      \"fullScreen\",\r\n      \"playlist\",\r\n      \"currentSong\",\r\n      \"playing\",\r\n      \"currentIndex\",\r\n      \"mode\",\r\n      \"sequenceList\",\r\n      \"likelist\"\r\n    ])\r\n  },\r\n  methods: {\r\n    firstPlay(){\r\n            this.$refs.audio.play();\r\n    },\r\n    Enter(el, done) {\r\n      setTimeout(() => {\r\n        this.entering = true;\r\n      }, 0);\r\n      const { x, y, scale } = this._getPosAndScale();\r\n      let animation = {\r\n        0: {\r\n          transform: `translate3d(${x}px, ${y}px, 0) scale(${scale})`\r\n        },\r\n        60: {\r\n          transform: `translate3d(0, 0, 0) scale(1.1)`\r\n        },\r\n        100: {\r\n          transform: `translate3d(0, 0, 0) scale(1)`\r\n        }\r\n      };\r\n      animations.registerAnimation({\r\n        name: \"move\",\r\n        animation,\r\n        presets: {\r\n          duration: 400,\r\n          esing: \"linear\",\r\n          delay: 100\r\n        }\r\n      }); //设置动画\r\n      animations.runAnimation(this.$refs.cdWrapper, \"move\", done);\r\n      // console.log(this);\r\n      // console.log(done); //done内部就是一个异步执行过程。。\r\n    },\r\n    afterEnter() {\r\n      animations.unregisterAnimation(\"move\"); //移除动画\r\n      this.$refs.cdWrapper.style.animation = \"\";\r\n    },\r\n    Leave(el, done) {\r\n      console.log(\"离开\");\r\n      this.entering = false;\r\n      const { x, y, scale } = this._getPosAndScale();\r\n      this.$refs.cdWrapper.style.transition = `all 0.4s ease`;\r\n      this.$refs.cdWrapper.style[\r\n        \"transform\"\r\n      ] = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\r\n      this.$refs.cdWrapper.style[\r\n        \"webkitTransform\"\r\n      ] = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\r\n      this.$refs.cdWrapper.addEventListener(\"transitionend\", done); //动画结束\r\n    },\r\n    afterLeave() {\r\n      this.$refs.cdWrapper.style[\"transform\"] = \"\";\r\n      this.$refs.cdWrapper.style[\"webkitTransform\"] = \"\";\r\n      this.$refs.cdWrapper.style.transition = \"\";\r\n    },\r\n    _getPosAndScale() {\r\n      const targetWidth = 40;\r\n      const paddingLeft = 40;\r\n      const paddingBottom = 30;\r\n      const paddingTop = 80;\r\n      const width = window.innerWidth * 0.8; //屏幕宽度\r\n      const scale = targetWidth / width; //百分比\r\n      const x = -(window.innerWidth / 2 - paddingLeft); //计算x偏移值\r\n      const y = window.innerHeight - paddingTop - width / 2 - paddingBottom; //y偏移值\r\n      return { x, y, scale };\r\n    },\r\n    middleTouchStart(e) {\r\n      this.touch.initiated = true;\r\n      this.touch.move = false;\r\n      const touch = e.touches[0];\r\n      this.touch.startX = touch.pageX;\r\n      this.touch.startY = touch.pageY;\r\n    },\r\n    middleTouchMove(e) {\r\n      if (!this.touch.initiated) {\r\n        return;\r\n      }\r\n      const touch = e.touches[0];\r\n      const deltaX = (this.deltaX = touch.pageX - this.touch.startX);\r\n      const deltaY = (this.deltaY = touch.pageY - this.touch.startY);\r\n\r\n      //计算触摸距离\r\n      if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n        //去除横向\r\n        return;\r\n      }\r\n      console.log(\"进入\");\r\n      if (!this.touch.moved) {\r\n        this.touch.moved = true;\r\n      }\r\n      const left = this.currentShow === \"cd\" ? 0 : -window.innerWidth;\r\n      const offsetWidth = Math.min(\r\n        0,\r\n        Math.max(-window.innerWidth, left + deltaX)\r\n      );\r\n      this.touch.percent = Math.abs(offsetWidth / window.innerWidth);\r\n      this.$refs.lyricList.$el.style[\r\n        \"transform\"\r\n      ] = `translate3d(${offsetWidth}px,0,0)`;\r\n      this.$refs.lyricList.$el.style[\"transitionDuration\"] = 0;\r\n      this.$refs.middleL.style.opacity = 1 - this.touch.percent;\r\n      this.$refs.middleL.style[\"transitionDuration\"] = 0;\r\n    },\r\n    middleTouchEnd(e) {\r\n      if (!this.touch.moved) {\r\n        return;\r\n      }\r\n      let offsetWidth;\r\n      let opacity;\r\n      let ifsroll =\r\n        Math.abs(this.deltaY) < Math.abs(this.deltaX) ? true : false;\r\n      if (this.currentShow === \"cd\") {\r\n        if (this.touch.percent > 0.1 && ifsroll) {\r\n          //判断是否横向滑动，并且超出一定范围\r\n          //直接设置值\r\n          offsetWidth = -window.innerWidth;\r\n          opacity = 0;\r\n          this.currentShow = \"lyric\";\r\n        } else {\r\n          //否则不变\r\n          offsetWidth = 0;\r\n          opacity = 1;\r\n        }\r\n      } else {\r\n        if (this.touch.percent < 0.9 && ifsroll) {\r\n          //同上\r\n          offsetWidth = 0;\r\n          this.currentShow = \"cd\";\r\n          opacity = 1;\r\n        } else {\r\n          offsetWidth = -window.innerWidth;\r\n          opacity = 0;\r\n        }\r\n      }\r\n      const time = 300;\r\n      //设置动画过度\r\n      this.$refs.lyricList.$el.style[\r\n        \"transform\"\r\n      ] = `translate3d(${offsetWidth}px,0,0)`;\r\n      this.$refs.lyricList.$el.style[\"transitionDuration\"] = `${time}ms`;\r\n      this.$refs.middleL.style.opacity = opacity;\r\n      this.$refs.middleL.style[\"transitionDuration\"] = `${time}ms`;\r\n      this.touch.initiated = false;\r\n    },\r\n    getLyric() {\r\n      this.currentSong\r\n        .getlyric()\r\n        .then(lyric => {\r\n          if (this.currentSong.lyric !== lyric) {\r\n            //检测歌词是否正确;\r\n            return;\r\n          }\r\n\r\n          this.$nextTick(() => {\r\n            this.isPureMusic = false; //纯音乐\r\n            this.currentLyric = new Lyric(lyric, this.handleLyric);\r\n            if (this.currentLyric.lines.length === 0) {\r\n              this.isPureMusic = true;\r\n            }\r\n            if (this.isPureMusic) {\r\n              console.log(this.isPureMusic, \"纯音乐\");\r\n              return;\r\n            } else {\r\n              if (this.playing && this.canLyricPlay) {\r\n                // 这个时候有可能用户已经播放了歌曲，要切到对应位置\r\n                this.currentLyric.seek(this.currentTime * 1000);\r\n              }\r\n            }\r\n            //设置当前歌词轴\r\n            console.log(this.currentLineNum);\r\n          });\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n          this.currentLyric = null;\r\n          this.playingLyric = \"\";\r\n          this.currentLineNum = 0;\r\n        });\r\n    },\r\n    handleLyric({ lineNum, txt }) {\r\n      if (!this.$refs.lyricLine) {\r\n        return;\r\n      }\r\n      this.currentLineNum = lineNum;\r\n      this.$nextTick(() => {\r\n        if (lineNum > 5) {\r\n          let lineEl = this.$refs.lyricLine[lineNum - 5];\r\n          this.$refs.lyricList.scrollToElement(lineEl, 1000);\r\n        } else {\r\n          let lineEl = this.$refs.lyricLine[0];\r\n          this.$refs.lyricList.scrollTo(lineEl, 1000);\r\n        }\r\n        this.playingLyric = txt; //当前歌词\r\n      });\r\n    },\r\n    open() {\r\n      this.setFullScreen(true);\r\n    },\r\n    back() {\r\n      //显示彻底清除 实际并不是返回而是最小化\r\n      this.setFullScreen(false);\r\n    },\r\n    format(interval) {\r\n      interval = interval | 0;\r\n      const minute = (interval / 60) | 0;\r\n      const second = this._pad(interval % 60);\r\n      return `${minute}:${second}`; //当前时间\r\n    },\r\n    _pad(num, n = 2) {\r\n      let len = num.toString().length;\r\n      while (len < n) {\r\n        //1位数\r\n        num = \"0\" + num;\r\n        len++;\r\n      }\r\n      return num;\r\n    },\r\n    changeMode() {\r\n      const mode = (this.mode + 1) % 4;\r\n      this.setPlayMode(mode);\r\n      let list = null;\r\n      if (mode === playMode.random) {\r\n        list = shuffle(this.sequenceList);\r\n      } else {\r\n        list = this.sequenceList;\r\n      }\r\n      //保证currentIndex不变\r\n      this.resetCurrentIndex(list);\r\n      this.setPlayList(list);\r\n    },\r\n    prev() {\r\n      //上一曲\r\n      let index = this.currentIndex - 1;\r\n      if (index === -1) {\r\n        index = this.playlist.length - 1;\r\n      }\r\n      if (this.playlist.length === 1) {\r\n        //需要重新播放\r\n        this.once();\r\n      }\r\n      this.setCurrentIndex(index); //重设置当前页\r\n      if (!this.playing) {\r\n        this.togglePlaying();\r\n      }\r\n    },\r\n    next() {\r\n      this.currentcanlay = false;\r\n      let index = this.currentIndex + 1;\r\n      if (index === this.playlist.length) {\r\n        index = 0;\r\n      }\r\n      if (this.playlist.length === 1) {\r\n        //需要重新播放\r\n        console.log(\"重新播放\");\r\n        this.once();\r\n      }\r\n      this.setCurrentIndex(index); //重设置当前页\r\n      if (!this.playing) {\r\n        this.togglePlaying();\r\n      }\r\n    },\r\n    paused() {\r\n      this.setPlayingState(false);\r\n      console.log(\"停歌词\");\r\n      if (this.currentLyric) {\r\n        this.currentLyric.stop();\r\n      }\r\n    },\r\n    resetCurrentIndex(list) {\r\n      //寻找index\r\n      let index = list.findIndex(item => {\r\n        return item.id === this.currentSong.id;\r\n      });\r\n      //重设曲目\r\n      this.setCurrentIndex(index);\r\n    },\r\n    togglePlaying() {\r\n      if (!this.$refs.audio.src) {\r\n        this.$refs.audio.src = this.currentSong.url;\r\n      }\r\n      if (this.first) {\r\n        this.first = false;\r\n      }\r\n      this.setPlayingState(!this.playing);\r\n      if (this.playing) {\r\n        this.$refs.audio.play();\r\n      } else {\r\n        this.$refs.audio.pause();\r\n      }\r\n      if (this.currentLyric) {\r\n        this.currentLyric.togglePlay();\r\n      }\r\n    },\r\n    toggleLike() {\r\n      if (!this._likesong()) {\r\n        //喜欢\r\n        this.likeSong({\r\n          song: this.currentSong\r\n        });\r\n      } else {\r\n        //不喜欢\r\n        this.unlikeSong({\r\n          song: this.currentSong\r\n        });\r\n      }\r\n    },\r\n    _likesong() {\r\n      if (this._findindex(this.likelist, this.currentSong) === -1) {\r\n        //未喜欢\r\n        return false;\r\n      } else {\r\n        //喜欢\r\n        return true;\r\n      }\r\n    },\r\n    _findindex(list, song) {\r\n      return list.findIndex(item => {\r\n        return item.id === song.id;\r\n      });\r\n    },\r\n    ready() {\r\n      console.log(\"播放中\");\r\n      if (!this.playing) {\r\n        this.setPlayingState(true);\r\n      }\r\n      this.canLyricPlay = true;\r\n      // this.savePlayHistory(this.currentSong) //历史\r\n      if (this.currentLyric && !this.isPureMusic) {\r\n        this.currentLyric.seek(this.currentTime * 1000); //播放后同步歌词\r\n      }\r\n    },\r\n    ended() {\r\n      console.log(\"end\");\r\n      this.setPlayingState(true);\r\n      this.currentTime = 0;\r\n      if (this.mode === playMode.once || this.playlist.length === 1) {\r\n        this.once();\r\n        return;\r\n      }\r\n      if (this.mode === playMode.loop) {\r\n        this.next(); //应该是this.loop;\r\n      } else {\r\n        this.next();\r\n      }\r\n    },\r\n    updateTime(e) {\r\n      if (this.prrgresschanging) {\r\n        return;\r\n      }\r\n      this.currentTime = e.target.currentTime;\r\n    },\r\n    error() {\r\n      console.log(\"出错\");\r\n    },\r\n    onProgressBarChange(percent) {\r\n      const currentTime = this.currentSong.duration * percent; //计算现在时间\r\n      this.currentTime = this.$refs.audio.currentTime = currentTime; //重置时间\r\n      if (!this.playing) {\r\n        this.togglePlaying(); //未播放直接播放\r\n      }\r\n      if (this.currentLyric) {\r\n        this.currentLyric.seek(this.currentTime * 1000);\r\n      }\r\n      this.prrgresschanging = false;\r\n    },\r\n    onProgressBarChanging(percent) {\r\n      this.prrgresschanging = true;\r\n      this.currentTime = this.currentSong.duration * percent; //计算当前时间\r\n      if (this.currentLyric) {\r\n        this.currentLyric.seek(this.currentTime * 1000);\r\n      }\r\n    },\r\n    once() {\r\n      this.onProgressBarChange(0);\r\n      this.$refs.audio.play();\r\n    },\r\n    clicklyric(e) {\r\n      let text = e.target.innerText;\r\n      let lyric = this.currentLyric.lines;\r\n      console.log(text);\r\n      lyric.forEach(item => {\r\n        if (text === item.txt) {\r\n          console.log(item.time, this.currentSong.duration);\r\n          this.onProgressBarChange(\r\n            item.time / 1000 / this.currentSong.duration\r\n          );\r\n        }\r\n      });\r\n    },\r\n    showPlaylist() {\r\n      this.$refs.playlistref.show();\r\n    },\r\n    ...mapMutations({\r\n      setFullScreen: \"SET_FULL_SCREEN\",\r\n      setPlayingState: \"SET_PLAYING_STATE\",\r\n      setCurrentIndex: \"SET_CURRENT_INDEX\",\r\n      setPlayMode: \"SET_PLAY_MODE\",\r\n      setPlayList: \"SET_PLAYLIST\",\r\n      setlikeSongs: \"SET_LIKE_LIST\",\r\n      setstate: \"SET_PLAYING_STATE\"\r\n    }),\r\n    ...mapActions({\r\n      likeSong: \"likeSong\",\r\n      unlikeSong: \"unlikeSong\"\r\n    })\r\n  },\r\n  components: {\r\n    scroll,\r\n    progressbar,\r\n    progresscirle,\r\n    playlist\r\n  },\r\n  watch: {\r\n    currentSong(newsong, oldsong) {\r\n      console.log(this.currentSong);\r\n      if (!newsong.id || !newsong.url || newsong.id === oldsong.id) {\r\n        return;\r\n      }\r\n      console.log(\"曲目变化\");\r\n      console.log(\"初始化\");\r\n      if (this.currentLyric) {\r\n        console.log(\"重置歌词\");\r\n        this.currentLyric.stop();\r\n        // 重置为null\r\n        this.currentLyric = null;\r\n        this.currentTime = 0;\r\n        this.playingLyric = \"\";\r\n        this.currentLineNum = 0;\r\n      }\r\n      // this.$nextTick(() => {\r\n      // });\r\n      console.log(\"加载歌词\");\r\n      this.getLyric(); //加载歌词;\r\n      if (!this.playing) {\r\n        this.setstate(true);\r\n        console.log(\"直接播放\");\r\n      }\r\n    },\r\n    playing(newPlaying) {\r\n      if (newPlaying) {\r\n        this.$nextTick(() => {\r\n        this.$refs.audio.play();\r\n        if (!this.currentLyric) {\r\n          this.getLyric(); //加载歌词;\r\n        }\r\n        });\r\n      } else {\r\n        this.$nextTick(() => {\r\n        this.$refs.audio.pause();\r\n        });\r\n      }\r\n    },\r\n    fullScreen(newVal) {\r\n      //全屏\r\n      if (newVal) {\r\n        this.$nextTick(() => {\r\n          //清除歌词列表\r\n          console.log(\"清除列表，初始当前歌曲进度条百分比\");\r\n          //播放条设置当前歌曲百分比\r\n          this.$refs.lyricList.refresh();\r\n          this.$refs.progressBar.setProgressOffest(this.percent);\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.normal-player {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 150;\r\n  background-color: #fff;\r\n  background: -webkit-linear-gradient(top, #504e4e, #000);\r\n}\r\n.background {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: -1;\r\n  opacity: 0.6;\r\n  filter: blur(20px);\r\n}\r\n.player-top {\r\n  position: relative;\r\n  top: 0;\r\n  left: 6px;\r\n  z-index: 50;\r\n  transition: all 0.4s cubic-bezier(0.86, 0.18, 0.82, 1.32);\r\n}\r\n.player-back {\r\n  position: absolute;\r\n  top: 0;\r\n  z-index: 50;\r\n}\r\n.player-icon-back {\r\n  display: block;\r\n  height: 16px;\r\n  width: 16px;\r\n  background-image: url(../common/image/back.svg);\r\n}\r\n.player-title {\r\n  width: 70%;\r\n  margin: 15px auto 0;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  color: #fff;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n}\r\n.subtitle {\r\n  line-height: 20px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  color: #fff;\r\n}\r\n.cdimage {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  border-radius: 50%;\r\n  border: 10px solid rgba(255, 255, 255, 0.1);\r\n}\r\n.cd {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n}\r\n.cd-wrapper {\r\n  position: absolute;\r\n  left: 10%;\r\n  top: 0;\r\n  width: 80%;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n}\r\n.player-middle {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 80px;\r\n  bottom: 170px;\r\n  white-space: nowrap;\r\n  font-size: 0;\r\n}\r\n.middle-l {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 0;\r\n  padding-top: 80%;\r\n}\r\n.player-bottom {\r\n  position: absolute;\r\n  bottom: 50px;\r\n  width: 100%;\r\n  transition: all 0.4s cubic-bezier(0.86, 0.18, 0.82, 1.32);\r\n}\r\n.dot-wrapper {\r\n  text-align: center;\r\n  font-size: 0;\r\n}\r\n.progress-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  padding: 10px 0;\r\n}\r\n.cdplay {\r\n  animation: rotate 20s linear infinite;\r\n}\r\n.pause {\r\n  animation-play-state: paused;\r\n}\r\n.time {\r\n  color: #fff;\r\n  font-size: 10px;\r\n  flex: 0 0 30px;\r\n  line-height: 30px;\r\n  width: 30px;\r\n}\r\n.time-l {\r\n  text-align: left;\r\n}\r\n.time-r {\r\n  text-align: right;\r\n}\r\n.progress-bar-wrapper {\r\n  flex: 1;\r\n}\r\n.operators {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.musicicon {\r\n  flex: 1;\r\n  color: #fff;\r\n}\r\n.musicicon > i {\r\n  font-size: 30px;\r\n}\r\n.i-left {\r\n  text-align: right;\r\n}\r\n.i-right {\r\n  text-align: left;\r\n}\r\n.i-center {\r\n  text-align: center;\r\n}\r\n.icon-squence {\r\n  display: inline-block;\r\n  background-image: url(../common/image/squenceplay.svg);\r\n  width: 32px;\r\n  height: 32px;\r\n}\r\n.icon-like {\r\n  display: inline-block;\r\n  background-image: url(../common/image/like.svg);\r\n  width: 32px;\r\n  height: 32px;\r\n}\r\n.icon-unlike {\r\n  display: inline-block;\r\n  background-image: url(../common/image/unlike.svg);\r\n  width: 32px;\r\n  height: 32px;\r\n}\r\n.icon-loop {\r\n  display: inline-block;\r\n  background-image: url(../common/image/loopplay.svg);\r\n  width: 32px;\r\n  height: 32px;\r\n}\r\n.icon-once {\r\n  display: inline-block;\r\n  background-image: url(../common/image/onceplay.svg);\r\n  width: 32px;\r\n  height: 32px;\r\n}\r\n.icon-random {\r\n  display: inline-block;\r\n  background-image: url(../common/image/ranomplay.svg);\r\n  width: 32px;\r\n  height: 32px;\r\n}\r\n.icon-prev {\r\n  display: inline-block;\r\n  background-image: url(../common/image/prevsong.svg);\r\n  width: 48px;\r\n  height: 48px;\r\n}\r\n.icon-next {\r\n  display: inline-block;\r\n  background-image: url(../common/image/nextsong.svg);\r\n  width: 48px;\r\n  height: 48px;\r\n}\r\n.icon-puase {\r\n  display: inline-block;\r\n  background-image: url(../common/image/pauseicon.svg);\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n.iconplay {\r\n  display: inline-block;\r\n  background-image: url(../common/image/iconplay.svg);\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n.ab {\r\n  position: absolute;\r\n  margin-left: 20px;\r\n}\r\n.ac {\r\n  position: absolute;\r\n  right: 0;\r\n  margin-right: 20px;\r\n}\r\n.middle-r {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.lyric-wrapper {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  overflow: hidden;\r\n  text-align: center;\r\n}\r\n.lytext {\r\n  line-height: 32px;\r\n  color: #fff;\r\n  font-size: 14px;\r\n}\r\n.lycurrent {\r\n  color: aquamarine;\r\n  font-size: 20px;\r\n}\r\n.normal-enter-active {\r\n  transition: all 0.4s;\r\n}\r\n.normal-leave-active {\r\n  transition: all 0.4s;\r\n}\r\n.normal-enter,\r\n.normal-leave-to {\r\n  opacity: 0;\r\n}\r\n.top-enter {\r\n  opacity: 1;\r\n  transform: translate3d(0, 0px, 0);\r\n}\r\n.top-leave {\r\n  opacity: 0;\r\n  transform: translate3d(0, -100px, 0);\r\n}\r\n.bottom-enter {\r\n  opacity: 1;\r\n  transform: translate3d(0, 0px, 0);\r\n}\r\n.bottom-leave {\r\n  opacity: 0;\r\n  transform: translate3d(0, 100px, 0);\r\n}\r\n.mini-enter-active,\r\n.mini-leave-active {\r\n  transition: all 0.4s;\r\n}\r\n.mini-enter,\r\n.mini-leave-to {\r\n  opacity: 0;\r\n}\r\n@keyframes rotate {\r\n  0% {\r\n    transform: rotate(0);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.minicon {\r\n  flex: 1;\r\n  margin-left: 15px;\r\n}\r\n.minicd {\r\n  border-radius: 50%;\r\n  border: 1px solid #31c27ca6;\r\n}\r\n.mini-player {\r\n  display: flex;\r\n  align-items: center;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 100;\r\n  width: 100%;\r\n  height: 60px;\r\n  background: #f5f5f5;\r\n}\r\n.minitext {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  flex: 1;\r\n  line-height: 20px;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  left: 75px;\r\n}\r\n.minname {\r\n  margin-bottom: 2px;\r\n  font-size: 14px;\r\n  color: #000;\r\n}\r\n.mindesc {\r\n  font-size: 10px;\r\n  color: #008000a8;\r\n}\r\n.minicontrol,\r\n.procontrol,\r\n.listcontrol {\r\n  flex: 0 0 30px;\r\n  width: 30px;\r\n  padding: 0 10px;\r\n}\r\n.icon-mini {\r\n  width: 24px;\r\n  height: 24px;\r\n  position: absolute;\r\n  left: 5px;\r\n  top: 4px;\r\n}\r\n.minpuase {\r\n  background-image: url(../common/image/minipause.svg);\r\n}\r\n.minplay {\r\n  background-image: url(../common/image/miniplay.svg);\r\n}\r\n.listcontrol {\r\n  height: 30px;\r\n}\r\n.icon-list {\r\n  width: 32px;\r\n  height: 32px;\r\n  background-image: url(../common/image/minilist.svg);\r\n  position: absolute;\r\n}\r\n.cd-lyric-wrapper {\r\n  width: 80%;\r\n  margin: 30px auto 0 auto;\r\n  overflow: hidden;\r\n  text-align: center;\r\n}\r\n.playing-lyric {\r\n  height: 20px;\r\n  line-height: 20px;\r\n  font-size: 15px;\r\n  color: #fff;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/player.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playlist.length>0),expression:\"playlist.length>0\"}],staticClass:\"player\"},[_c('transition',{attrs:{\"name\":\"normal\"},on:{\"enter\":_vm.Enter,\"after-enter\":_vm.afterEnter,\"leave\":_vm.Leave,\"after-leave\":_vm.afterLeave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullScreen),expression:\"fullScreen\"}],staticClass:\"normal-player\",on:{\"~touchstart\":function($event){return _vm.firstPlay($event)}}},[_c('div',{staticClass:\"background\"},[_c('img',{attrs:{\"src\":_vm.currentSong.image,\"width\":\"100%\",\"height\":\"100%\"}})]),_vm._v(\" \"),_c('div',{ref:\"top\",staticClass:\"player-top\",class:{'top-enter':_vm.isenter,'top-leave':!_vm.isenter}},[_c('div',{staticClass:\"player-back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"player-icon-back\"})]),_vm._v(\" \"),_c('h1',{staticClass:\"player-title\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('h2',{staticClass:\"subtitle\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.singer)}})]),_vm._v(\" \"),_c('div',{staticClass:\"player-middle\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.middleTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.middleTouchMove($event)},\"touchend\":_vm.middleTouchEnd}},[_c('div',{ref:\"middleL\",staticClass:\"middle-l\"},[_c('div',{ref:\"cdWrapper\",staticClass:\"cd-wrapper\"},[_c('div',{staticClass:\"cd\",class:_vm.cdCls},[_c('img',{staticClass:\"cdimage\",attrs:{\"src\":_vm.currentSong.image}})])]),_vm._v(\" \"),_c('div',{staticClass:\"cd-lyric-wrapper\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPureMusic),expression:\"isPureMusic\"}],staticClass:\"lytext\"},[_vm._v(\"此歌曲为没有填词的纯音乐，请您欣赏\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isPureMusic),expression:\"!isPureMusic\"}],staticClass:\"playing-lyric\"},[_vm._v(_vm._s(_vm.playingLyric))])])]),_vm._v(\" \"),_c('scroll',{ref:\"lyricList\",staticClass:\"middle-r\",attrs:{\"listenScroll\":true,\"data\":_vm.currentLyric&&_vm.currentLyric.lines}},[_c('div',{staticClass:\"lyric-wrapper\"},[(_vm.currentLyric)?_c('div',{on:{\"click\":_vm.clicklyric}},_vm._l((_vm.currentLyric.lines),function(line,index){return _c('p',{ref:\"lyricLine\",refInFor:true,staticClass:\"lytext\",class:{'lycurrent': _vm.currentLineNum === index}},[_vm._v(_vm._s(line.txt))])})):_vm._e(),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPureMusic),expression:\"isPureMusic\"}],staticClass:\"lytext\"},[_vm._v(\"此歌曲为没有填词的纯音乐，请您欣赏\")])])])],1),_vm._v(\" \"),_c('div',{ref:\"bottom\",staticClass:\"player-bottom\",class:{'bottom-enter':_vm.isenter,'bottom-leave':!_vm.isenter}},[_c('div',{staticClass:\"dot-wrapper\"},[_c('span',{staticClass:\"dot\",class:{'active': _vm.currentShow === 'cd'}}),_vm._v(\" \"),_c('span',{staticClass:\"dot\",class:{'active': _vm.currentShow === 'lyric'}})]),_vm._v(\" \"),_c('div',{staticClass:\"progress-wrapper\"},[_c('span',{staticClass:\"time time-l\"},[_vm._v(_vm._s(_vm.format(_vm.currentTime)))]),_vm._v(\" \"),_c('div',{staticClass:\"progress-bar-wrapper\"},[_c('progressbar',{ref:\"progressBar\",attrs:{\"percent\":_vm.percent},on:{\"percentChange\":_vm.onProgressBarChange,\"percentChanging\":_vm.onProgressBarChanging}})],1),_vm._v(\" \"),_c('span',{staticClass:\"time time-r\"},[_vm._v(_vm._s(_vm.format(_vm.currentSong.duration)))])]),_vm._v(\" \"),_c('div',{staticClass:\"operators\"},[_c('div',{staticClass:\"musicicon i-left ab\",on:{\"click\":_vm.changeMode}},[_c('i',{class:_vm.iconMode})]),_vm._v(\" \"),_c('div',{staticClass:\"musicicon i-left\"},[_c('i',{ref:\"prev\",staticClass:\"icon-prev\",on:{\"click\":_vm.prev}})]),_vm._v(\" \"),_c('div',{staticClass:\"musicicon i-center\"},[_c('i',{ref:\"play\",class:_vm.playIcon,on:{\"click\":function($event){$event.preventDefault();return _vm.togglePlaying($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"musicicon i-right\"},[_c('i',{ref:\"next\",staticClass:\"icon-next\",on:{\"click\":_vm.next}})]),_vm._v(\" \"),_c('div',{staticClass:\"musicionc i-right ac\"},[_c('i',{class:_vm.likeIcon,on:{\"click\":_vm.toggleLike}})])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"mini\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullScreen),expression:\"!fullScreen\"}],staticClass:\"mini-player\",on:{\"click\":_vm.open}},[_c('div',{staticClass:\"minicon\"},[_c('img',{staticClass:\"minicd\",class:_vm.cdCls,attrs:{\"src\":_vm.currentSong.image,\"width\":\"40\",\"height\":\"40\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"minitext\"},[_c('h2',{staticClass:\"minname\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"mindesc\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.singer)}})]),_vm._v(\" \"),_c('div',{staticClass:\"procontrol\"},[_c('progresscirle',{attrs:{\"radius\":_vm.radius,\"percent\":_vm.percent}},[_c('i',{staticClass:\"icon-mini\",class:_vm.miniIcon,on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.togglePlaying($event)}}})])],1),_vm._v(\" \"),_c('div',{staticClass:\"listcontrol\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showPlaylist($event)}}},[_c('i',{staticClass:\"icon-list\"})])])]),_vm._v(\" \"),_c('playlist',{ref:\"playlistref\"}),_vm._v(\" \"),_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.dataUrl,\"autoplay\":\"\",\"id\":\"music-aduio\"},on:{\"playing\":_vm.ready,\"pause\":_vm.paused,\"error\":_vm.error,\"ended\":_vm.ended,\"timeupdate\":_vm.updateTime}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f22d982\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/player.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f22d982\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./player.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./player.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./player.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f22d982\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./player.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/player.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n     <mheader></mheader>\n     <!-- 选项卡 -->\n     <tab></tab>\n     <!-- 导航 -->\n     <keep-alive>\n          <router-view></router-view>\n     </keep-alive>\n     <player></player>\n  </div>\n</template>\n\n<script>\nimport mheader from './components/mheader'\nimport tab from './components/tab'\nimport player from './components/player'\nimport store from './common/js/store.js';\nimport { mapGetters,mapMutations} from \"vuex\"; \nexport default {\n components:{\n   mheader,\n   tab,\n   player\n },\n data(){\n   return {\n     stop:false\n   }\n },\n created () {\n let histroylook = store.getstore.getlookhistory()?`/${store.getstore.getlookhistory()}`:'/recommend';\n  this.$router.replace(histroylook)\n },\n mounted(){\n    let m = document.querySelector('#app');\n    m.addEventListener('touchend',this.firstPlay);\n },\n methods:{\n   firstPlay(){\n    //  alert('touched');\n    //  console.log('first play');\n     let music = document.querySelector('#music-aduio');\n     setTimeout(()=>{\n       console.log(music.src);\n       music.play();\n       if(this.playing){\n      this.stop = true;\n    }\n     },0)\n   }\n },\n watch: {\n    stop () {\n      let m = document.querySelector('#app')\n      m.removeEventListener('touchend', this.firstPlay)\n    }\n  },\n  computed:{\n     ...mapGetters([\n      \"playing\"\n    ])\n  }\n\n}\n</script>\n\n<style>\n @import './common/css/base.css';\n#app {\n  position: fixed;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('mheader'),_vm._v(\" \"),_c('tab'),_vm._v(\" \"),_c('keep-alive',[_c('router-view')],1),_vm._v(\" \"),_c('player')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5246e5ef\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5246e5ef\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5246e5ef\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import originJsonp from 'jsonp';\r\nexport default function jsonp(url, data, option) {\r\n    url += (url.indexOf('?') < 0 ? '?' : '&') + param(data);\r\n    return new Promise((resolve, reject) => {\r\n        originJsonp(url, option, (err, data) => {\r\n            if (!err) {\r\n                resolve(data);\r\n            } else {\r\n                reject(err);\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nfunction param(data) {\r\n    let url = '';\r\n    for (let k in data) {\r\n        let value = data[k] !== undefined ? data[k] : '';\r\n        url += `&${k}=${encodeURIComponent(value)}`;\r\n    }\r\n    return url ? url.substring(1) : '';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/jsonp.js","export const commonParams = {\r\n    g_tk: '697786022',\r\n    inCharset: 'utf-8',\r\n    outCharset: 'utf-8',\r\n    notice: '0'\r\n}\r\nexport const options = {\r\n\r\n    param: 'jsonpCallback'\r\n}\r\n\r\nexport const ERR_OK = 0;\n\n\n// WEBPACK FOOTER //\n// ./src/api/config.js","import jsonp from '../common/js/jsonp'\r\nimport { commonParams, options } from '../api/config'\r\nconst debug = process.env.NODE_ENV !== 'production'\r\nexport function getRecommend() {\r\n    const url = 'https://shc.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg';\r\n    const data = Object.assign({}, commonParams, {\r\n        platform: 'h5',\r\n        needNewCode: '1'\r\n    })\r\n    return jsonp(url, data, options);\r\n}\r\nexport function getDiscList() {\r\n    const url = debug ? 'http://localhost:8888/getlist' : 'http://123.207.138.78:8888/getlist';\r\n    const data = Object.assign({}, commonParams, {\r\n        g_tk: '5381',\r\n        platform: 'yqq',\r\n        hostUin: 0,\r\n        sin: 0,\r\n        ein: 29,\r\n        sortId: 5,\r\n        needNewCode: 0,\r\n        categoryId: 10000000,\r\n        rnd: Math.random(),\r\n        format: 'json',\r\n        inCharset: 'utf8'\r\n    })\r\n    return jsonp(url, data, options);\r\n}\r\n\r\nexport function getSongList(disstid) {\r\n    let url = debug ? 'http://localhost:8888/getlistDetail' : 'http://123.207.138.78:8888/getlistDetail';\r\n    let data = Object.assign({}, commonParams, {\r\n        dic: disstid,\r\n        type: 1,\r\n        json: 1,\r\n        utf8: 1,\r\n        onlysong: 0,\r\n        platform: 'yqq',\r\n        hostUin: 0,\r\n        needNewCode: 0\r\n    })\r\n    return jsonp(url, data, options)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/recommend.js","export function addClass(el, className) {\r\n    if (hasClass(el, className)) {\r\n        return\r\n    };\r\n    let newClass = el.className.split(' ');\r\n    newClass.push(className);\r\n    el.className = newClass.join(' ');\r\n}\r\nexport function hasClass(el, className) {\r\n    let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\r\n    return reg.test(el.className);\r\n}\r\n\r\nexport function getData(el, name, val) {\r\n    const prefix = 'data-'\r\n    if (val) {\r\n        return el.setAttribute(prefix + name, val)\r\n    }\r\n    return el.getAttribute(prefix + name)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","<template>\r\n  <div class=\"slider\" ref=\"slide\">\r\n      <div class=\"slider-group\" ref=\"slidegroup\">\r\n          <slot ref=\"main\">没有内容才显示</slot>\r\n      </div>\r\n      <div class=\"dots\">\r\n      <span v-for=\"(item, index) in dots\" class=\"dot\"\r\n            :class=\"{active: currentPageIndex === index }\">\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\nimport { addClass } from \"../common/js/dom\";\r\nimport { commonParams } from \"../api/config\";\r\nexport default {\r\n  props: {\r\n    loop: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    autoPlay: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    interval: {\r\n      type: Number,\r\n      default: 4000\r\n    },\r\n    showDot: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    click: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    threshold: {\r\n      type: Number,\r\n      default: 0.3\r\n    },\r\n    speed: {\r\n      type: Number,\r\n      default: 400\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dots: [],\r\n      currentPageIndex: 0\r\n    };\r\n  },\r\n  mounted() {\r\n    // console.log(this.$refs);\r\n    // debugger;\r\n    this.update();\r\n    window.addEventListener(\"resize\", () => {\r\n      if (!this.slide || !this.slide.enabled) {\r\n        return;\r\n      }\r\n      clearTimeout(this.resizeTimer);\r\n      this.resizeTimer = setTimeout(() => {\r\n        if (this.slide.isInTransition) {\r\n          this._onScrollEnd();\r\n        } else {\r\n          if (this.autoPlay) {\r\n            this._play();\r\n          }\r\n        }\r\n        this.refresh();\r\n      }, 60);\r\n    });\r\n  },\r\n  activated() {\r\n    if (!this.slide) {\r\n      return;\r\n    }\r\n    this.slide.enable();\r\n    let pageIndex = this.slide.getCurrentPage().pageX;\r\n    this.slide.goToPage(pageIndex, 0, 0);\r\n    this.currentPageIndex = pageIndex;\r\n    if (this.autoPlay) {\r\n      this._play();\r\n    }\r\n  },\r\n  deactivated() {\r\n    this.slide.disable();\r\n    clearTimeout(this.timer);\r\n  },\r\n  beforeDestroy() {\r\n    this.slide.disable();\r\n    clearTimeout(this.timer);\r\n  },\r\n  methods: {\r\n    update() {\r\n      if (this.slide) {\r\n        this.slide.destroy();\r\n      }\r\n      this.$nextTick(() => {\r\n        this.init();\r\n      })\r\n      // setTimeout(()=>{\r\n      //   this.init();\r\n      // },20);\r\n    },\r\n    refresh() {\r\n      this._setSlideWidth(true);\r\n      this.slide.refresh();\r\n    },\r\n    prev() {\r\n      this.slide.prev();\r\n    },\r\n    next() {\r\n      this.slide.next();\r\n    },\r\n    init() {\r\n      clearTimeout(this.timer);\r\n      this.currentPageIndex = 0;\r\n      this._setSlideWidth();\r\n      if (this.showDot) {\r\n        this._initDots();\r\n      }\r\n      this._initSlide();\r\n      if (this.autoPlay) {\r\n        this._play();\r\n      }\r\n    },\r\n    _setSlideWidth(isResize) {\r\n      this.children = this.$refs.slidegroup.children;\r\n      let width = 0;\r\n      let slideWidth = this.$refs.slide.clientWidth;\r\n      for (let i = 0; i < this.children.length; i++) {\r\n        let child = this.children[i];\r\n        addClass(child, \"slider-item\");\r\n        child.style.width = slideWidth + \"px\";\r\n        width += slideWidth;\r\n      }\r\n      if (this.loop && !isResize) {\r\n        width += 2 * slideWidth;\r\n      }\r\n      this.$refs.slidegroup.style.width = width + \"px\";\r\n    },\r\n    _initSlide() {\r\n      //  debugger;\r\n      this.slide = new BScroll(this.$refs.slide, {\r\n        scrollX: true,\r\n        scrollY: false,\r\n        momentum: false,\r\n        snap: {\r\n          loop: this.loop,\r\n          threshold: this.threshold,\r\n          speed: this.speed\r\n        },\r\n        bounce: false,\r\n        stopPropagation: true,\r\n        click: this.click\r\n      });\r\n      // console.log(this.slide);\r\n      // console.log(this.slide.pages.length);\r\n      if (this.slide.pages.length == 0 && this.loop) {\r\n        console.log(\"初始化失败\");\r\n      }\r\n      this.slide.on(\"scrollEnd\", this._onScrollEnd);\r\n      this.slide.on(\"touchEnd\", () => {\r\n        if (this.autoPlay) {\r\n          this._play();\r\n        }\r\n      });\r\n      this.slide.on(\"beforeScrollStart\", () => {\r\n        if (this.autoPlay) {\r\n          clearTimeout(this.timer);\r\n        }\r\n      });\r\n    },\r\n    _onScrollEnd() {\r\n      let pageIndex = this.slide.getCurrentPage().pageX;\r\n      this.currentPageIndex = pageIndex;\r\n      if (this.autoPlay) {\r\n        this._play();\r\n      }\r\n    },\r\n    _initDots() {\r\n      this.dots = new Array(this.children.length);\r\n    },\r\n    _play() {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(() => {\r\n        this.slide.next();\r\n      }, this.interval);\r\n    }\r\n  },\r\n  watch: {\r\n    loop() {\r\n      this.update();\r\n    },\r\n    autoPlay() {\r\n      this.update();\r\n    },\r\n    speed() {\r\n      this.update();\r\n    },\r\n    threshold() {\r\n      this.update();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.slider-group {\r\n  position: relative;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n}\r\n.slider-item {\r\n  float: left;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  text-align: center;\r\n}\r\n.slider-item a {\r\n  display: block;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  text-decoration: none;\r\n}\r\n.slider-item img {\r\n  display: block;\r\n  width: 100%;\r\n}\r\n.dots {\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 12px;\r\n  text-align: center;\r\n  font-size: 0;\r\n}\r\n.dot {\r\n  display: inline-block;\r\n  margin: 0 4px;\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: rgba(255, 255, 255, 0.5);\r\n}\r\n.active {\r\n  width: 20px;\r\n  border-radius: 5px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/slide.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slide\",staticClass:\"slider\"},[_c('div',{ref:\"slidegroup\",staticClass:\"slider-group\"},[_vm._t(\"default\",[_vm._v(\"没有内容才显示\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{staticClass:\"dot\",class:{active: _vm.currentPageIndex === index }})}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e89aa08\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/slide.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e89aa08\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./slide.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./slide.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./slide.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e89aa08\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./slide.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/slide.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"loading\">\r\n    <img width=\"24\" height=\"24\" src=\"../common/image/loading.gif\">\r\n    <p class=\"desc\">{{title}}</p>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n   props: {\r\n      title: {\r\n        type: String,\r\n        default: '加载中...'\r\n      }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n .loading{\r\n    width: 100%;\r\n    text-align: center;\r\n }\r\n .desc{\r\n    line-height: 20px;\r\n    font-size: 12px;\r\n    color: #000;\r\n    /* color: rgba(255, 255, 255, 0.5); */\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"width\":\"24\",\"height\":\"24\",\"src\":require(\"../common/image/loading.gif\")}}),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48b65db2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48b65db2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48b65db2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/loading.vue\n// module id = null\n// module chunks = ","import { mapGetters } from 'vuex';\r\nexport const playlistMixin = {\r\n    computed: {\r\n        ...mapGetters([\r\n            'playlist'\r\n        ])\r\n    },\r\n    methods: {\r\n        handlePlaylist() {\r\n            throw new Error('component must implement handlePlaylist method');\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$nextTick(() => {\r\n            this.handlePlaylist(this.playlist);\r\n        })\r\n    },\r\n    activated() {\r\n        this.handlePlaylist(this.playlist);\r\n    },\r\n    watch: {\r\n        playlist(newVal) {\r\n            // console.log(newVal);\r\n            this.handlePlaylist(newVal);\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/mixin.js","<template>\r\n  <div class=\"recommend\" ref=\"recommend\">\r\n    <scroll class=\"recommend-content\" :data=\"discList\" ref=\"scroll\">\r\n    <div>\r\n      <!-- 轮播 -->\r\n      <div  v-if=\"recommends.length\" class=\"slider-wrapper\">\r\n           <slider>\r\n             <div v-for=\"item in recommends\">\r\n                <a :href=\"item.linkUrl\" @click.prevent>\r\n                  <img class=\"needsclick\"  v-lazy=\"item.picUrl\" @load=\"loadImage\" style=\"height:150px\">\r\n                </a>\r\n             </div>\r\n           </slider>\r\n      </div>\r\n      <!-- 歌曲列表 -->\r\n      <div class=\"recomment-list\">\r\n        <h1 class=\"list-title\">热门歌单推荐</h1>\r\n        <ul>\r\n          <li v-for=\"item in discList\" class=\"item\" @click=\"selectItem(item)\">\r\n            <div class=\"icons\">\r\n              <img v-lazy=\"item.imgurl\" width=\"60\" height=\"60\">\r\n            </div>\r\n            <div class=\"text1\">\r\n              <h2 class=\"name\" v-html=\"item.creator.name\"></h2>\r\n              <p class=\"desc\" v-html=\"item.dissname\"></p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <!-- loading -->\r\n     <div class=\"loading-container\" v-show=\"!discList.length\">\r\n        <loading :title=\"loading\"></loading>\r\n     </div>\r\n    </scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getRecommend, getDiscList } from \"../api/recommend\";\r\nimport { ERR_OK } from \"../api/config\";\r\nimport slider from \"../base/slide\";\r\nimport scroll from \"../base/scroll\";\r\nimport loading from \"../base/loading\";\r\nimport {playlistMixin} from '../common/js/mixin';\r\nimport { mapMutations } from 'vuex'\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data() {\r\n    return {\r\n      recommends: [],\r\n      discList: [],\r\n      loading: \"热门歌单加载中\"\r\n    };\r\n  },\r\n  created() {\r\n    this._getRecommend();\r\n    this._getDiscList();\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setSonglist: 'SET_SONGLIST'\r\n    }),\r\n     handlePlaylist (playlist) {\r\n        const bottom = playlist.length > 0 ? '60px' : '';\r\n        this.$refs.recommend.style.bottom = bottom;\r\n        this.$refs.scroll.refresh();\r\n      },\r\n    _getRecommend() {\r\n      getRecommend().then(res => {\r\n        if (res.code == ERR_OK) {\r\n          // console.log(\"轮播图数据获取成功\");\r\n          this.recommends = res.data.slider;\r\n          // console.log(this.recommends);\r\n        }\r\n      });\r\n    },\r\n    _getDiscList() {\r\n      getDiscList().then(res => {\r\n        if (res.code == ERR_OK) {\r\n          // console.log(\"歌单数据获取成功\");\r\n          this.discList = res.data.list;\r\n          // console.log(this.discList);\r\n        }\r\n      });\r\n    },\r\n    loadImage() {\r\n      if (!this.checkLoaded) {\r\n        if (this.$refs.scroll) {\r\n          this.$refs.scroll.refresh();\r\n          this.checkLoaded = true;\r\n          console.log('初始化');\r\n        }\r\n      }\r\n    },\r\n    selectItem(item){\r\n      this.$router.push({\r\n        path: `/recommend/${item.dissid}`\r\n      })\r\n       this.setSonglist(item)\r\n    }\r\n  },\r\n  components: {\r\n    slider,\r\n    scroll,\r\n    loading\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* 轮播外层样式 */\r\n.recommend {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 88px;\r\n  bottom: 0;\r\n}\r\n.slider-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.recommend-content {\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.list-title {\r\n  height: 65px;\r\n  line-height: 65px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  color: #d93f30;\r\n}\r\n.item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px 20px 20px;\r\n  /* border-bottom: 0.5px solid #000000;  */\r\n}\r\n.icons {\r\n  flex: 0 0 60px;\r\n  width: 60px;\r\n  padding-right: 20px;\r\n}\r\n.text1 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  flex: 1;\r\n  line-height: 20px;\r\n  overflow: hidden;\r\n  font-size: 14px;\r\n}\r\n.name {\r\n  margin-bottom: 10px;\r\n}\r\n.desc {\r\n  color: #999;\r\n}\r\n.loading-container {\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('scroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[(_vm.recommends.length)?_c('div',{staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.recommends),function(item){return _c('div',[_c('a',{attrs:{\"href\":item.linkUrl},on:{\"click\":function($event){$event.preventDefault();}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],staticClass:\"needsclick\",staticStyle:{\"height\":\"150px\"},on:{\"load\":_vm.loadImage}})])])}))],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"recomment-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.discList),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"icons\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"width\":\"60\",\"height\":\"60\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"text1\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.discList.length),expression:\"!discList.length\"}],staticClass:\"loading-container\"},[_c('loading',{attrs:{\"title\":_vm.loading}})],1)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-38a16152\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38a16152\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38a16152\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend.vue\n// module id = null\n// module chunks = ","export default class Singer {\r\n    constructor({ id, name }) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.avatar = `https://y.gtimg.cn/music/photo_new/T001R300x300M000${id}.jpg?max_age=2592000`\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/Singer.js","<template>\r\n  <scroll @scroll=\"scroll\"\r\n          :data=\"data\"\r\n          :listenScroll=\"listenScroll\"\r\n          :probe-type=\"probeType\"\r\n          class=\"listview\"\r\n          ref=\"listview\">\r\n    <ul>\r\n      <li  v-for=\"group in data\" class=\"list-group\" ref=\"listGroup\">\r\n        <ul>\r\n          <li @click=\"selectItem(item)\" v-for=\"item in group.items\" class=\"list-group-item\">\r\n            <img class=\"avatar\" :src=\"item.avatar\">\r\n            <span class=\"name\">{{item.name}}</span>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n    <div class=\"list-shortcut\" @touchstart.stop.prevent=\"onShortcutTouchStart\" @touchmove.stop.prevent=\"onShortcutTouchMove\" @touchend.stop>\r\n      <ul>\r\n        <li v-for=\"(item,index) in shortcutList\" class=\"itme\" :class=\"{'current': currentIndex === index}\" :data-index=\"index\"> \r\n          {{item}}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"list-fixed\" v-show=\"fixedTitle\" ref=\"fixed\">\r\n      <h1 class=\"fixed-title\">{{fixedTitle}}</h1>\r\n    </div>\r\n    <div v-show=\"!data.length\" class=\"loading-container\">\r\n      <loading></loading>\r\n    </div>\r\n\t</scroll>\r\n</template>\r\n<script>\r\nimport scroll from \"./scroll\";\r\nimport loading from \"../base/loading\"\r\nimport {getData} from \"../common/js/dom\";\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Array,\r\n      default: []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentIndex: 0, //位置\r\n      scrollY: -1, //位置\r\n      diff: -1\r\n    };\r\n  },\r\n  computed: {\r\n    shortcutList() {\r\n      return this.data.map(group => {\r\n        return group.title.substring(0, 1);\r\n      });\r\n    },\r\n    fixedTitle () {\r\n        return this.data[this.currentIndex] ? this.data[this.currentIndex].title : '0'\r\n    }\r\n  },\r\n  created() {\r\n    this.probeType = 3;\r\n    this.listenScroll = true;\r\n    this.touch = {};\r\n    this.listHeight = [];\r\n  },\r\n  mounted() {\r\n    console.log(this.data);\r\n    this._calculateHeight();\r\n  },\r\n  methods: {\r\n    _calculateHeight() {\r\n      this.listHeight = [];\r\n      const list = this.$refs.listGroup;\r\n      let height =0;\r\n      this.listHeight.push(height)\r\n      for(let i =0;i<list.length;i++){\r\n        let item = list[i]\r\n        height +=item.clientHeight;//每一组高度\r\n        this.listHeight.push(height);\r\n      }\r\n    },\r\n    scroll(pos) {\r\n      this.scrollY = pos.y;\r\n    },\r\n    refresh () {\r\n        this.$refs.listview.refresh()\r\n    },\r\n    onShortcutTouchStart(e){\r\n      let ahchorIndex = getData(e.target,'index');\r\n      let firstTouch = e.touches[0];\r\n      this.touch.y1 = firstTouch.pageY;\r\n      this.touch.ahchorIndex = ahchorIndex;\r\n      this._scrollTo(ahchorIndex);\r\n    },\r\n    onShortcutTouchMove(e){\r\n      let firstTouch = e.touches[0];\r\n      this.touch.y2 = firstTouch.pageY;\r\n      let delta = (this.touch.y2 - this.touch.y1)/18|0;\r\n      let ahchorIndex = Number.parseInt(this.touch.ahchorIndex)+delta;\r\n      this._scrollTo(ahchorIndex);\r\n    },\r\n    _scrollTo(index){\r\n      //padding\r\n      if(!index&&index!=0){\r\n        return ;\r\n      }\r\n      if(index<0){\r\n        index = 0;\r\n      } else if(index>this.listHeight.length-2){\r\n        index = this.listHeight.length-2 \r\n      }\r\n      this.$refs.listview.scrollToElement(this.$refs.listGroup[index],0);\r\n      this.scrollY = this.$refs.listview.scroll.y;\r\n    },\r\n    selectItem(item){\r\n      this.$emit('select',item);\r\n    } \r\n  },\r\n  components: {\r\n    scroll,\r\n    loading\r\n  },\r\n  watch:{\r\n    data(){\r\n      setTimeout(()=>{\r\n        this._calculateHeight()\r\n      },20)\r\n    },\r\n    scrollY(newY){\r\n      const listHeight = this.listHeight;\r\n      //顶部\r\n      if(newY>=0){\r\n        this.currentIndex = 0;\r\n        return ;\r\n      }\r\n      //中间\r\n      for(let i=0;i<listHeight.length-1;i++){\r\n        let height1 = listHeight[i]\r\n        let height2 = listHeight[i+1]\r\n\r\n        if(-newY>=height1&&-newY<height2){\r\n          this.currentIndex = i;\r\n          this.diff = height2+newY;\r\n          return;\r\n        }\r\n      }\r\n      //底部\r\n      this.currentIndex = listHeight.length - 2;\r\n    },\r\n    diff(newVal){\r\n      let fixedTop = (newVal>0&&newVal<30)?newVal-30:0\r\n      if(this.fixedTop ===fixedTop){\r\n        return \r\n      }\r\n      this.fixedTop = fixedTop;\r\n      this.$refs.fixed.style.transform=`translate3d(0,${fixedTop}px,0)`\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.listview {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.list-group {\r\n      padding-top: 20px;\r\n}\r\n.list-group-title {\r\n  border-bottom: 1px solid #00000024;\r\n  border-top: 1px solid #00000024;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding-left: 20px;\r\n  font-size: 12px;\r\n  color: #333;\r\n  background-color: #7dfdd24a;\r\n}\r\n.list-group-item {\r\n  display: flex;\r\n  padding: 32px 0 15px 10px;\r\n  align-items: center;\r\n  border-bottom: 1px solid #00000024;\r\n}\r\n.avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n}\r\n.name {\r\n  margin-left: 20px;\r\n  font-size: 14px;\r\n}\r\n.list-shortcut {\r\n  position: absolute;\r\n  z-index: 30;\r\n  right: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 20px;\r\n  padding: 20px 0;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n  background: rgba(119, 119, 119, 0.14);\r\n  font-family: Helvetica;\r\n}\r\n.itme{\r\n padding: 3px;\r\n        line-height: 1;\r\n        color: #333;\r\n        font-size: 10px;\r\n}\r\n.current{\r\n  color:red;\r\n}\r\n.list-fixed{\r\n  position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n}\r\n.fixed-title{\r\n   border-bottom: 1px solid #00000024;\r\n  border-top: 1px solid #00000024;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding-left: 20px;\r\n  font-size: 12px;\r\n  color: #333;\r\n  background-color: #7dfdd2;\r\n}\r\n.loading-container{\r\n   position: absolute;\r\n      width: 100%;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/listview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"data\":_vm.data,\"listenScroll\":_vm.listenScroll,\"probe-type\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.data),function(group){return _c('li',{ref:\"listGroup\",refInFor:true,staticClass:\"list-group\"},[_c('ul',_vm._l((group.items),function(item){return _c('li',{staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}))])})),_vm._v(\" \"),_c('div',{staticClass:\"list-shortcut\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchStart($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchMove($event)},\"touchend\":function($event){$event.stopPropagation();}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{staticClass:\"itme\",class:{'current': _vm.currentIndex === index},attrs:{\"data-index\":index}},[_vm._v(\" \\n          \"+_vm._s(item)+\"\\n        \")])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('h1',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b74993a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/listview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b74993a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./listview.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./listview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./listview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b74993a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./listview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/listview.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"singer\" ref=\"singer\">\r\n    <listview @select=\"selectSinger\" v-if=\"singers.length\" :data=\"singers\" ref=\"list\"></listview>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getSingerList } from \"../api/singer\";\r\nimport { ERR_OK } from \"../api/config\";\r\nimport Singer from \"../common/js/Singer\";\r\nimport listview from \"../base/listview\";\r\nimport {mapMutations} from 'vuex';\r\nimport { playlistMixin } from '../common/js/mixin';\r\nexport default {\r\n  mixins:[playlistMixin],\r\n  data() {\r\n    return {\r\n      singers: []\r\n    };\r\n  },\r\n  created() {\r\n    this._getSingerList();\r\n  },\r\n  methods: {\r\n    handlePlaylist (playlist) {\r\n        const bottom = playlist.length > 0 ? '60px' : ''\r\n        this.$refs.singer.style.bottom = bottom;\r\n        this.$nextTick(() => {\r\n           if(this.$refs.list){\r\n             this.$refs.list.refresh();\r\n           }\r\n        });\r\n    },\r\n    selectSinger(singer){\r\n      this.$router.push({\r\n          path: `/singer/${singer.id}`\r\n        })\r\n      console.log(singer.name);\r\n      this.setSinger(singer);\r\n    },\r\n    _getSingerList() {\r\n      getSingerList().then(res => {\r\n        if (res.code == ERR_OK) {\r\n          console.log(\"歌手列表获取完成\");\r\n          console.log(res.data.list);\r\n          this.singers = this.normalizeSinger(res.data.list);\r\n          console.log(this.singers);\r\n        }\r\n      });\r\n    },\r\n    normalizeSinger(list) {\r\n      let map = {\r\n        hot: {\r\n          title: \"热门\",\r\n          items: []\r\n        }\r\n      };\r\n      //将前10位歌手推入\r\n      list.forEach((item, index) => {\r\n        if (index < 10) {\r\n          map.hot.items.push(\r\n            new Singer({\r\n              id: item.Fsinger_mid,\r\n              name: item.Fsinger_name\r\n            })\r\n          );\r\n        }\r\n        const key = item.Findex;\r\n\r\n        if (!map[key]) {\r\n          map[key] = {\r\n            title: key,\r\n            items: []\r\n          };\r\n        }\r\n        map[key].items.push(\r\n          new Singer({\r\n            id: item.Fsinger_mid,\r\n            name: item.Fsinger_name\r\n          })\r\n        );\r\n      });\r\n\r\n      let hot = [];\r\n      let ret = [];\r\n      for(let key in map){\r\n        let val = map[key];\r\n        if(val.title.match(/[a-zA-Z]/)){\r\n          //只取字母\r\n          ret.push(val)\r\n        } else if(val.title === \"热门\") {\r\n          hot.push(val)\r\n        }\r\n      }\r\n      ret.sort((a,b)=>{\r\n        return a.title.charCodeAt(0) - b.title.charCodeAt(0)\r\n      })\r\n      return hot.concat(ret);\r\n    },\r\n    ...mapMutations({\r\n        setSinger: 'SET_SINGER'\r\n      })\r\n  },\r\n  components:{\r\n    listview\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.singer {\r\n  position: fixed;\r\n  top: 88px;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/singer.vue","import jsonp from '../common/js/jsonp'\r\nimport { commonParams, options } from '../api/config'\r\nexport function getSingerList() {\r\n    const url = 'https://szc.y.qq.com/v8/fcg-bin/v8.fcg';\r\n    const data = Object.assign({}, commonParams, {\r\n        channel: 'singer',\r\n        page: 'list',\r\n        key: 'all_all_all',\r\n        pagesize: 100,\r\n        pagenum: 1,\r\n        loginUin: 0,\r\n        hostUin: 0,\r\n        inCharset: 'utf8',\r\n        needNewCode: 0,\r\n        platform: 'yqq',\r\n        g_tk: 5381,\r\n        format: 'jsonp'\r\n    })\r\n    return jsonp(url, data, options);\r\n}\r\n\r\n\r\nexport function getSingerDetail(singerId) {\r\n    let url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg';\r\n\r\n    const data = Object.assign({}, commonParams, {\r\n        g_tk: 207663450,\r\n        loginUin: 0,\r\n        hostUin: 0,\r\n        format: 'jsonp',\r\n        inCharset: 'utf8',\r\n        outCharset: 'utf-8',\r\n        order: 'listen',\r\n        begin: 0,\r\n        num: 80,\r\n        platform: 'yqq',\r\n        songstatus: 1,\r\n        singermid: singerId\r\n    })\r\n    return jsonp(url, data, options);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singer\",staticClass:\"singer\"},[(_vm.singers.length)?_c('listview',{ref:\"list\",attrs:{\"data\":_vm.singers},on:{\"select\":_vm.selectSinger}}):_vm._e(),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a03133d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a03133d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a03133d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"rank\" ref=\"rankRef\">\r\n    <scroll ref=\"scrollRef\" class=\"toplist\" :data=\"toplist\">\r\n        <ul>\r\n          <li class=\"top-item\" v-for=\"item in toplist\" @click=\"selectItem(item)\">\r\n         <!-- 左图 -->\r\n            <div class=\"top-icon\">\r\n              <img width=\"100\" height=\"100\" v-lazy=\"item.picUrl\" @load=\"loadImg\">\r\n            </div>\r\n            <ul class=\"top-songlist\">\r\n              <li class=\"top-song\" v-for=\"(song,index) in item.songList\">\r\n                <span>{{index+1}}</span>\r\n                <span>{{song.songname}}</span>\r\n                <span class=\"top-singername\">{{song.singername}}</span>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </ul> \r\n        <div v-show=\"!toplist.length\" class=\"top-loading\">\r\n          <loading :title=\"`热门排行加载中`\"></loading>\r\n        </div>\r\n    </scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n<script>\r\nimport scroll from \"../base/scroll\";\r\nimport { getRankList } from \"../api/rank.js\";\r\nimport loading from \"../base/loading\";\r\nimport { playlistMixin } from \"@/common/js/mixin.js\";\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data() {\r\n    return {\r\n      toplist: []\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setRankList: \"SET_RANKLIST\"\r\n    }),\r\n    handlePlaylist(playlist) {\r\n      let bottom = playlist.length > 0 ? \"60px\" : \"\";\r\n      this.$refs.rankRef.style.bottom = bottom;\r\n      this.$refs.scrollRef.refresh();\r\n    },\r\n    _getRankList() {\r\n      getRankList().then(res => {\r\n        if (res.code === 0) {\r\n          // console.log(res)\r\n          this.toplist = res.data.topList;\r\n        }\r\n      });\r\n    },\r\n    loadImg() {\r\n      if (!this.flag) {\r\n        this.$refs.scrollRef.refresh();\r\n        this.flag = true;\r\n      }\r\n    },\r\n    selectItem(item) {\r\n      console.log(\"选择\", item);\r\n       this.$router.push({\r\n         path:`/rank/${item.id}`\r\n       })\r\n       this.setRankList(item);\r\n    }\r\n  },\r\n  created() {\r\n    this._getRankList();\r\n  },\r\n  components: {\r\n    scroll,\r\n    loading\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.rank {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 88px;\r\n  bottom: 0;\r\n}\r\n.toplist {\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.top-item {\r\n  display: flex;\r\n  margin: 0 20px;\r\n  padding-top: 20px;\r\n  height: 100px;\r\n}\r\n.top-songlist {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 0 20px;\r\n  height: 100px;\r\n  overflow: hidden;\r\n  font-size: 15px;\r\n  color: #00000096;\r\n}\r\n.top-song {\r\n  line-height: 25px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n}\r\n.top-singername {\r\n  color: #008000a8;\r\n}\r\n.top-loading {\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/rank.vue","import jsnop from \"../common/js/jsonp\";\r\nimport { commonParams, options } from '../api/config'\r\n\r\nexport function getRankList() {\r\n    let url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg';\r\n    let data = Object.assign({}, commonParams, {\r\n        uin: 0,\r\n        format: 'h5',\r\n        needNewCode: 1\r\n    })\r\n    return jsnop(url, data, options);\r\n}\r\nexport function getRankDetail(topid) {\r\n    let url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n    let data = Object.assign({}, commonParams, {\r\n        hostUin: 0,\r\n        platform: 'h5',\r\n        needNewCode: 1,\r\n        order: 'listen',\r\n        begin: 0,\r\n        uin: 0,\r\n        num: 100,\r\n        songstatus: 1,\r\n        format: 'json',\r\n        type: 'top',\r\n        tpl: 3,\r\n        page: 'detail',\r\n        topid\r\n    })\r\n    return jsnop(url, data, options)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/rank.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rankRef\",staticClass:\"rank\"},[_c('scroll',{ref:\"scrollRef\",staticClass:\"toplist\",attrs:{\"data\":_vm.toplist}},[_c('ul',_vm._l((_vm.toplist),function(item){return _c('li',{staticClass:\"top-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"top-icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],attrs:{\"width\":\"100\",\"height\":\"100\"},on:{\"load\":_vm.loadImg}})]),_vm._v(\" \"),_c('ul',{staticClass:\"top-songlist\"},_vm._l((item.songList),function(song,index){return _c('li',{staticClass:\"top-song\"},[_c('span',[_vm._v(_vm._s(index+1))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(song.songname))]),_vm._v(\" \"),_c('span',{staticClass:\"top-singername\"},[_vm._v(_vm._s(song.singername))])])}))])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.toplist.length),expression:\"!toplist.length\"}],staticClass:\"top-loading\"},[_c('loading',{attrs:{\"title\":\"热门排行加载中\"}})],1)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39f8d716\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/rank.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39f8d716\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rank.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39f8d716\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./rank.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"search-box\">\r\n        <i class=\"icon-search\"></i>\r\n        <input type=\"text\" class=\"search-input\" ref=\"queryRef\" v-model=\"query\" :placeholder=\"placeholder\">\r\n        <i class=\"icon-dismiss\" v-show=\"query\" @click=\"clearQuery\"></i>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {debounce} from \"../common/js/util.js\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      query: \"\"\r\n    };\r\n  },\r\n  props: {\r\n    placeholder: {\r\n      type: String,\r\n      default: \"搜索歌曲、歌手\"\r\n    }\r\n  },\r\n  methods:{\r\n      clearQuery(){\r\n          this.query = '';\r\n      },\r\n      blur(){\r\n          this.$refs.queryRef.blur();\r\n      },\r\n      getQuery(k){\r\n          this.query = k;\r\n      }\r\n  },\r\n  created(){\r\n      this.$watch('query',debounce((newQuery)=>{\r\n          this.$emit('queryover',newQuery)\r\n      },300))\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.search-box{\r\n    display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding: 0 6px;\r\n  height: 40px;\r\n  border-radius: 6px;\r\n  background-color: #fff;\r\n}\r\n.icon-search{\r\n    width: 20px;\r\n    height: 20px;\r\n    background-image: url(../common/image/icon-search.svg);\r\n}\r\n.search-input{\r\n    flex: 1;\r\n    margin: 0 5px;\r\n    line-height: 20px;\r\n    border: 0;\r\n    outline: none;\r\n}\r\n.icon-dismiss{\r\n     width: 20px;\r\n    height: 20px;\r\n    background-image: url(../common/image/icon-dismiss.svg);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/searchbox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-box\"},[_c('i',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"queryRef\",staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"icon-dismiss\",on:{\"click\":_vm.clearQuery}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5111b25c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/searchbox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5111b25c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./searchbox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchbox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5111b25c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./searchbox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/searchbox.vue\n// module id = null\n// module chunks = ","import jsonp from \"../common/js/jsonp\";\r\nimport { commonParams, options } from \"../api/config\";\r\nexport function getHotKey() {\r\n    let url = 'https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg';\r\n    let data = Object.assign({}, commonParams, {\r\n        uin: 0,\r\n        format: 'json',\r\n        platform: 'h5',\r\n        needNewCode: 1\r\n    })\r\n    return jsonp(url, data, options);\r\n}\r\nexport function search(query, page, perpage, zhida) {\r\n    let url = 'https://c.y.qq.com/soso/fcgi-bin/search_for_qq_cp';\r\n    let data = Object.assign({}, commonParams, {\r\n        w: query, //值\r\n        p: page,\r\n        n: perpage,\r\n        perpage,\r\n        zhidaqu: 1,\r\n        catZhida: zhida ? 1 : 0,\r\n        t: 0,\r\n        flag: 1,\r\n        ie: 'utf-8',\r\n        sem: 1,\r\n        aggr: 0,\r\n        uin: 0,\r\n        platform: 'h5',\r\n        uid: 0,\r\n        needNewCode: 1,\r\n        remoteplace: 'txt.mqq.all'\r\n    })\r\n    return jsonp(url, data, options);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/search.js","let _uid = 0\r\n    //guid算法实现\r\nexport function getUid() {\r\n    if (_uid) {\r\n        return _uid\r\n    }\r\n    if (!_uid) {\r\n        const t = (new Date).getUTCMilliseconds()\r\n        _uid = Math.round(2147483647 * Math.random()) * t % 1e10\r\n    }\r\n    return _uid\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/uid.js","import jsonp from '../common/js/jsonp';\r\nimport { commonParams, options } from '../api/config';\r\nimport { getUid } from '../common/js/uid';\r\nconst debug = process.env.NODE_ENV !== 'production'\r\nexport function getLyric(mid) {\r\n    const url = debug ? \"http://localhost:8888/getlyric\" : \"http://123.207.138.78:8888/getlyric\";\r\n    return jsonp(url, { songmid: mid }, options);\r\n}\r\nexport function getVKey(songmid, filename) {\r\n    const url = 'https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg';\r\n    const data = Object.assign({}, commonParams, {\r\n        cid: 205361747,\r\n        platform: 'yqq',\r\n        hostUin: 0,\r\n        loginUin: 0,\r\n        needNewCode: 0,\r\n        uin: 0,\r\n        songmid: songmid,\r\n        filename: filename,\r\n        format: 'jsonp',\r\n        inCharset: 'utf8',\r\n        g_tk: 5381,\r\n        guid: getUid()\r\n    })\r\n    return jsonp(url, data, Object.assign({}, options, { param: 'callback' }));\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/song.js","import { ERR_OK } from \"../../api/config\";\r\nimport { getLyric, getVKey } from \"../../api/song\"\r\nimport { Base64 } from \"js-base64\";\r\nimport { getUid } from '../../common/js/uid';\r\nlet urlMap = {}; //url集合\r\nexport default class Song {\r\n    constructor({ id, mid, singer, name, album, duration, image }) {\r\n        this.id = id;\r\n        this.mid = mid;\r\n        this.singer = singer;\r\n        this.name = name;\r\n        this.album = album;\r\n        this.duration = duration;\r\n        this.image = image;\r\n        this.filename = `C400${this.mid}.m4a`;\r\n\r\n        //\r\n        if (urlMap[this.id]) {\r\n            this.url = urlMap[this.id]\r\n        } else {\r\n            this._genUrl()\r\n        }\r\n    }\r\n    getlyric() {\r\n        if (this.lyric) {\r\n            return Promise.resolve(this.lyric);\r\n            //直接返回lyric;\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            getLyric(this.mid).then(res => {\r\n                if (res.retcode === ERR_OK) {\r\n                    this.lyric = Base64.decode(res.lyric);\r\n                    // console.log(this.lyric);\r\n                    resolve(this.lyric);\r\n                } else {\r\n                    reject('no lyric')\r\n                }\r\n            })\r\n        })\r\n    }\r\n    _genUrl() {\r\n        if (this.url) {\r\n            return; //有url 直接返回\r\n        }\r\n        getVKey(this.mid, this.filename).then((res) => {\r\n            if (res.code === ERR_OK) {\r\n                const vkey = res.data.items[0].vkey\r\n                this.url = `http://dl.stream.qqmusic.qq.com/${this.filename}?vkey=${vkey}&guid=${getUid()}&uin=0&fromtag=66`;\r\n                urlMap[this.id] = this.url;\r\n            }\r\n        })\r\n    }\r\n}\r\nexport function createSong(musicDate) {\r\n    return new Song({\r\n        id: musicDate.songid,\r\n        mid: musicDate.songmid,\r\n        singer: filterSinger(musicDate.singer),\r\n        name: musicDate.songname,\r\n        album: musicDate.albumname,\r\n        duration: musicDate.interval,\r\n        image: `https://y.gtimg.cn/music/photo_new/T002R300x300M000${musicDate.albummid}.jpg?max_age=2592000`\r\n    })\r\n}\r\n//处理歌手数据\r\nfunction filterSinger(singer) {\r\n    let ret = []\r\n    if (!singer) {\r\n        return ''\r\n    }\r\n    singer.forEach((s) => {\r\n        ret.push(s.name)\r\n    })\r\n    return ret.join('/')\r\n}\r\n\r\nexport function createSonglist(list) {\r\n    if (!list) {\r\n        return [];\r\n    }\r\n    return list.map((item) => {\r\n        // console.log(item, new Song(item));\r\n        return new Song(item);\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/song.js","<template>\r\n    <div class=\"no-sesult\">\r\n    <div class=\"no-result-icon\"></div>\r\n    <p class=\"no-result-text\">{{ title }}</p>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      tpye: String,\r\n      default: \"抱歉,暂无数据\"\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.no-sesult {\r\n  text-align: center;\r\n}\r\n.no-result-icon{\r\n    width: 86px;\r\n    height: 86px;\r\n    margin: 0 auto;\r\n    background-size:86px 86px;\r\n    background-image: url(../common/image/lost-data.svg); \r\n}\r\n.no-result-text {\r\n  margin-top: 30px;\r\n  font-size: 20px;\r\n  color: #000;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/noresult.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"no-sesult\"},[_c('div',{staticClass:\"no-result-icon\"}),_vm._v(\" \"),_c('p',{staticClass:\"no-result-text\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a5ee464\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/noresult.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a5ee464\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./noresult.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./noresult.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./noresult.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a5ee464\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./noresult.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/noresult.vue\n// module id = null\n// module chunks = ","<template>\r\n    <scroll ref=\"scrollRef\" :data=\"result\" :pullup=\"pullup\" @scrollToEnd=\"scrollToEnd\" :beforeScroll=\"beforeScrollData\"\r\n             @beforeScroll=\"beforeScroll\" class=\"suggest-list\">\r\n        <ul class=\"suggest-lists\">\r\n            <li class=\"suggest-item\" v-for=\"item in result\" @click=\"selectItem(item)\">\r\n                <div class=\"suggest-icon\">\r\n                    <i :class=\"getIconCls(item)\"></i>\r\n                </div>\r\n                <div class=\"suggest-name\">\r\n                    <p class=\"suggest-text\" v-html=\"getSingernameOrSongname(item)\"></p>\r\n                </div>\r\n            </li>\r\n            <loading v-show=\"hasMore\" title=\"搜索加载中...\"></loading>\r\n        </ul>\r\n        <div class=\"no-result-wrapper\" v-if=\"!hasMore && !result.length\">\r\n            <noresult></noresult>\r\n        </div>\r\n    </scroll>\r\n</template>\r\n<script>\r\nimport { search } from \"../api/search.js\";\r\nimport { createSong } from \"../common/js/song.js\";\r\nimport  Singer  from \"../common/js/Singer.js\";\r\nimport loading from \"../base/loading\";\r\nimport scroll from \"../base/scroll\";\r\nimport noresult from \"../base/noresult\";\r\nimport { mapMutations, mapActions } from \"vuex\";\r\nconst TYPE_SINGER = \"singer\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 当前检索页数，用于下拉加载\r\n      page: 1,\r\n      // 每一页的数量\r\n      perpage: 20,\r\n      // 接受检索结果\r\n      result: [],\r\n      // 标志位。是否加载完\r\n      hasMore: true,\r\n      beforeScrollData: true,\r\n      pullup: true\r\n    };\r\n  },\r\n  props: {\r\n    query: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    zhida: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  watch: {\r\n    query(newVal) {\r\n      this.search();\r\n      console.log(\"搜索\");\r\n    }\r\n  },\r\n  methods: {\r\n     ...mapMutations({\r\n      'setSinger': 'SET_SINGER'\r\n    }),\r\n    ...mapActions(['insertSong']),\r\n    selectItem(item){\r\n        console.log(item);\r\n        if(item.type === TYPE_SINGER){\r\n            let singer = new Singer({\r\n                id:item.singermid,\r\n                name:item.singername\r\n            })\r\n            console.log(singer);\r\n            this.$router.push({\r\n                 path: `/search/${singer.id}`\r\n            })\r\n            this.setSinger(singer);\r\n        } else{\r\n            this.insertSong(item);\r\n        }\r\n        console.log('触发search选择');\r\n        this.$emit('select');\r\n    },\r\n    getIconCls(item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        return \"suggest-list-singer\";\r\n      } else {\r\n        return \"suggest-list-song\";\r\n      }\r\n    },\r\n    getSingernameOrSongname(item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        console.log(\"是歌手\");\r\n        return item.singername;\r\n      } else {\r\n        return `${item.name}-${item.singer}`;\r\n      }\r\n    },\r\n    scrollToEnd() {\r\n      console.log(\"滑动到底\");\r\n      if (!this.hasMore) {\r\n        //没有了\r\n        return;\r\n      }\r\n      this.page++;\r\n      search(this.query, this.page, this.perpage, this.zhida).then(res => {\r\n        if (res.code === 0) {\r\n          console.log(res);\r\n          //处理搜索值\r\n          this.result = this.result.concat(this._formatSearch(res.data));\r\n          console.log(this.result);\r\n          this._checkMore(res.data);\r\n          console.log(this.hasMore);\r\n        }\r\n      });\r\n    },\r\n    beforeScroll() {\r\n      this.$emit(\"beforeScroll\");\r\n    },\r\n    search() {\r\n      console.log(this.query, this.page, this.perpage, this.zhida);\r\n      this.page = 1;\r\n      this.hasMore = true;\r\n      search(this.query, this.page, this.perpage, this.zhida).then(res => {\r\n        if (res.code === 0) {\r\n          console.log(res);\r\n          //处理搜索值\r\n          this.result = this._formatSearch(res.data);\r\n          console.log(this.result);\r\n          this._checkMore(res.data);\r\n          console.log(this.hasMore);\r\n        }\r\n      });\r\n    },\r\n    _formatSearch(data) {\r\n      //处理数据\r\n      let ret = [];\r\n      if (data.zhida && data.zhida.singerid) {\r\n        //有歌手\r\n        ret.push({ ...data.zhida, ...{ type: TYPE_SINGER } });\r\n      }\r\n      if (data.song) {\r\n        ret = ret.concat(this._normaliszeSongs(data.song.list));\r\n      }\r\n      return ret;\r\n    },\r\n    _normaliszeSongs(list) {\r\n      let ret = [];\r\n      list.forEach(item => {\r\n        if (item.songid && item.albummid) {\r\n          ret.push(createSong(item));\r\n        }\r\n      });\r\n      return ret;\r\n    },\r\n    //是否有更多\r\n    _checkMore(data) {\r\n      let song = data.song;\r\n      if (\r\n        !song.list.length ||\r\n        song.curnum + song.curpage * this.perpage > song.totalnum\r\n      ) {\r\n        this.hasMore = false; //没有更多\r\n      }\r\n    },\r\n    refresh() {\r\n      this.$refs.scrollRef.refresh(); //滚动刷新\r\n    }\r\n  },\r\n  components: {\r\n    scroll,\r\n    loading,\r\n    noresult\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.suggest-list {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  border-top: 1px solid #00000026;\r\n}\r\n.suggest-lists {\r\n  padding: 0 30px;\r\n}\r\n.suggest-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #00000026;\r\n}\r\n.suggest-icon {\r\n  flex: 0 0 30px;\r\n}\r\n.suggest-name {\r\n  margin-left: 15px;\r\n  flex: 1;\r\n  font-size: 16px;\r\n  color: #000;\r\n  overflow: hidden;\r\n}\r\n.suggest-list-singer {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-image: url(../common/image/suggest-list-singer.svg);\r\n}\r\n.suggest-list-song {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-image: url(../common/image/suggest-list-song.svg);\r\n}\r\n.no-result-wrapper{\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 50%;\r\n    transform:translateY(-50%);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/suggest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"scrollRef\",staticClass:\"suggest-list\",attrs:{\"data\":_vm.result,\"pullup\":_vm.pullup,\"beforeScroll\":_vm.beforeScrollData},on:{\"scrollToEnd\":_vm.scrollToEnd,\"beforeScroll\":_vm.beforeScroll}},[_c('ul',{staticClass:\"suggest-lists\"},[_vm._l((_vm.result),function(item){return _c('li',{staticClass:\"suggest-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"suggest-icon\"},[_c('i',{class:_vm.getIconCls(item)})]),_vm._v(\" \"),_c('div',{staticClass:\"suggest-name\"},[_c('p',{staticClass:\"suggest-text\",domProps:{\"innerHTML\":_vm._s(_vm.getSingernameOrSongname(item))}})])])}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMore),expression:\"hasMore\"}],attrs:{\"title\":\"搜索加载中...\"}})],2),_vm._v(\" \"),(!_vm.hasMore && !_vm.result.length)?_c('div',{staticClass:\"no-result-wrapper\"},[_c('noresult')],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0858014c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/suggest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0858014c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./suggest.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0858014c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./suggest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/suggest.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"search-list\" v-show=\"searches.length\" ref=\"list\">\r\n        <transition-group name=\"search-h-list\" tag=\"ul\">\r\n            <li :key=\"item\" class=\"search-list-item\" @click=\"selectItem(item)\" v-for=\"item in searches\">\r\n                <span class=\"search-list-text\">{{item}}</span>\r\n\r\n                <span class=\"search-list-icon\" @click.stop=\"deleteOne(item)\">\r\n                    <i class=\"search-icon-delete\"></i>\r\n                </span>\r\n             </li>\r\n        </transition-group>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    searches: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  methods: {\r\n    selectItem(item) {\r\n      this.$emit(\"select\", item);\r\n    },\r\n    deleteOne(item) {\r\n      this.$emit(\"delete\", item);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.search-list-item {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  overflow: hidden;\r\n}\r\n.search-h-list-enter-active,.search-h-list-leave-active{\r\n    transition: all 0.1s;\r\n}\r\n.search-h-list-enter,.search-h-list-leave-to{\r\n    height: 0;\r\n}\r\n.search-list-text{\r\n     flex: 1;\r\n}\r\n.search-icon-delete{\r\n    display: inline-block;\r\n    background-image: url(../common/image/search-icon-delete.svg);\r\n    width: 16px;\r\n    height: 16px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/searchlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searches.length),expression:\"searches.length\"}],ref:\"list\",staticClass:\"search-list\"},[_c('transition-group',{attrs:{\"name\":\"search-h-list\",\"tag\":\"ul\"}},_vm._l((_vm.searches),function(item){return _c('li',{key:item,staticClass:\"search-list-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('span',{staticClass:\"search-list-text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('span',{staticClass:\"search-list-icon\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteOne(item)}}},[_c('i',{staticClass:\"search-icon-delete\"})])])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08a9160a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/searchlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08a9160a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./searchlist.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08a9160a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./searchlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/searchlist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"search\">\r\n    <!-- 搜索框 -->\r\n    <div class=\"search-box-wrapper\">\r\n      <searchbox ref=\"searchBoxRef\"  @queryover=\"onQueryChange\"></searchbox>\r\n    </div>\r\n    <!-- 中部 -->\r\n    <div class=\"shortcut-wrapper\" v-show=\"!query\" ref=\"shortcutRef\">\r\n      <scroll class=\"shortcut\" ref=\"scrollRef\" :data=\"scrollData\" :refreshDelay=\"refreshDelay\">\r\n        <div>\r\n          <!-- 热门搜索 -->\r\n          <div class=\"hot-key\">\r\n            <h1 class=\"hot-title\">热门搜索</h1>\r\n            <ul>\r\n              <li class=\"hot-item\" v-for=\"item in hotkey\" @click=\"addQuery(item.k)\">\r\n                <span>{{ item.k }}</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <!-- 搜索历史 -->\r\n          <div class=\"search-history\" v-show=\"searchHistory.length\">\r\n            <h1 class=\"search-history-title\">\r\n              <span class=\"search-history-text\">搜索历史</span>\r\n              <span class=\"search-history-clear\" @click=\"showConfirm\"><i class=\"search-icon-clear\"></i></span>  \r\n            </h1>\r\n            <searchlist :searches=\"searchHistory\" @select=\"addQuery\" @delete=\"deleteHis\"></searchlist>\r\n          </div>\r\n        </div>\r\n      </scroll>\r\n    </div>\r\n    <!-- 搜索结果 -->\r\n    <div class=\"search-result\" ref=\"resultRef\" v-show=\"query\">\r\n      <suggest ref=\"suggestRef\" :query=\"query\" :zhida=\"zhida\" @beforeScroll=\"blurInput\" @select=\"save\"></suggest>\r\n    </div>\r\n    <confirm ref=\"confirmRef\" :text=\"`确认要清空搜索历史吗?`\" @sure=\"confirm\" @cancel=\"cancel\"></confirm>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { playlistMixin } from \"../common/js/mixin.js\";\r\nimport searchbox from \"../base/searchbox\";\r\nimport { getHotKey } from \"../api/search.js\";\r\nimport { ERR_OK } from \"../api/config.js\";\r\nimport scroll from \"../base/scroll\";\r\nimport suggest from \"../components/suggest\";\r\nimport searchlist from \"../base/searchlist\";\r\nimport confirm from \"../base/confirm\";\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data() {\r\n    return {\r\n      // 热门搜索关键系\r\n      hotkey: [],\r\n      // 搜索字段 (my-search-box -> my-search -> my-suggest-List)\r\n      query: \"\",\r\n      // 是否显示歌手\r\n      zhida: true,\r\n      refreshDelay: 100\r\n    };\r\n  },\r\n  components: {\r\n    searchbox,\r\n    scroll,\r\n    suggest,\r\n    searchlist,\r\n    confirm\r\n  },\r\n  methods: {\r\n    ...mapActions([\"saveHistory\", \"delHistory\", \"clearHistory\"]),\r\n    addQuery(k) {\r\n      this.$refs.searchBoxRef.getQuery(k);\r\n    },\r\n    blurInput() {\r\n      console.log(\"去除焦点\");\r\n      this.$refs.searchBoxRef.blur();\r\n    },\r\n    showConfirm(){\r\n      this.$refs.confirmRef.show();\r\n    },\r\n    confirm(){\r\n      this.clearHistory();\r\n    },\r\n    cancel(){\r\n      return ;\r\n    },\r\n    save() {\r\n      console.log(\"出错\");\r\n      this.saveHistory(this.query);\r\n      console.log(this.searchHistory);\r\n      this.$refs.scrollRef.refresh();\r\n    },\r\n    deleteHis(item) {\r\n      this.delHistory(item);\r\n    },\r\n    onQueryChange(query) {\r\n      this.query = query;\r\n    },\r\n    handlePlaylist(playlist) {\r\n      //迷你播放器\r\n      let bottom = playlist.length > 0 ? \"60px\" : \"\";\r\n      this.$refs.shortcutRef.style.bottom = bottom;\r\n      this.$refs.scrollRef.refresh();\r\n      this.$refs.resultRef.style.bottom = bottom;\r\n      this.$refs.suggestRef.refresh();\r\n    },\r\n    _getHotKey() {\r\n      getHotKey().then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.hotkey = res.data.hotkey.slice(0, 10);\r\n          // console.log(this.hotkey);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this._getHotKey();\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"searchHistory\"]),\r\n    scrollData() {\r\n      return this.hotkey.concat(this.searchHistory);\r\n    }\r\n  },\r\n  watch:{\r\n    query(newval){\r\n      if(!newval){\r\n        console.log('显示');\r\n        this.$nextTick(()=>{\r\n          this.$refs.scrollRef.refresh();\r\n        })\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.search {\r\n  height: 100%;\r\n}\r\n.search-box-wrapper {\r\n  padding: 10px;\r\n  background-color: #f4f4f4;\r\n}\r\n.shortcut-wrapper {\r\n  position: fixed;\r\n  top: 178px;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n.shortcut {\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.hot-key {\r\n  margin: 0 20px 20px 20px;\r\n}\r\n.hot-title {\r\n  margin-bottom: 20px;\r\n  font-size: 16px;\r\n  color: red;\r\n}\r\n.hot-item {\r\n  display: inline-block;\r\n  padding: 5px 10px;\r\n  margin: 0 20px 10px 0;\r\n  border-radius: 6px;\r\n  border: 1px solid rgba(0, 0, 0, 0.14);\r\n  font-size: 14px;\r\n  color: #00000096;\r\n}\r\n.search-result {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 148px;\r\n  bottom: 0;\r\n}\r\n.search-history {\r\n  position: relative;\r\n  margin: 0 20px;\r\n}\r\n.search-history-title {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  font-size: 16px;\r\n  color: #31c27c;\r\n}\r\n.search-history-text{\r\n  flex: 1;\r\n}\r\n.search-icon-clear{\r\n  display: inline-block;\r\n  width: 16px;\r\n  height: 16px;\r\n  background-image: url(../common/image/search-icon-delete.svg);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box-wrapper\"},[_c('searchbox',{ref:\"searchBoxRef\",on:{\"queryover\":_vm.onQueryChange}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"shortcutRef\",staticClass:\"shortcut-wrapper\"},[_c('scroll',{ref:\"scrollRef\",staticClass:\"shortcut\",attrs:{\"data\":_vm.scrollData,\"refreshDelay\":_vm.refreshDelay}},[_c('div',[_c('div',{staticClass:\"hot-key\"},[_c('h1',{staticClass:\"hot-title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotkey),function(item){return _c('li',{staticClass:\"hot-item\",on:{\"click\":function($event){_vm.addQuery(item.k)}}},[_c('span',[_vm._v(_vm._s(item.k))])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"search-history\"},[_c('h1',{staticClass:\"search-history-title\"},[_c('span',{staticClass:\"search-history-text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"search-history-clear\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"search-icon-clear\"})])]),_vm._v(\" \"),_c('searchlist',{attrs:{\"searches\":_vm.searchHistory},on:{\"select\":_vm.addQuery,\"delete\":_vm.deleteHis}})],1)])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],ref:\"resultRef\",staticClass:\"search-result\"},[_c('suggest',{ref:\"suggestRef\",attrs:{\"query\":_vm.query,\"zhida\":_vm.zhida},on:{\"beforeScroll\":_vm.blurInput,\"select\":_vm.save}})],1),_vm._v(\" \"),_c('confirm',{ref:\"confirmRef\",attrs:{\"text\":\"确认要清空搜索历史吗?\"},on:{\"sure\":_vm.confirm,\"cancel\":_vm.cancel}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-621cfcf4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-621cfcf4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-621cfcf4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"song-list\">\r\n      <ul>\r\n          <div v-for=\"(song,index) in songs\" class=\"songitem\" @click=\"selectItem(song,index)\">\r\n            <div class=\"rank-icon\" v-if=\"rank\">\r\n                <span :class=\"getRankCls(index)\">{{getRankText(index)}}</span>\r\n            </div>\r\n             <div class=\"content\">\r\n                 <h2 class=\"songname\">{{song.name}}</h2>\r\n                 <p class=\"songdesc\">{{getDesc(song)}}</p>\r\n            </div>\r\n          </div>\r\n      </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    songs: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n    rank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  created() {\r\n    console.log(\"是否排行\", this.rank);\r\n  },\r\n  methods: {\r\n    getDesc(song) {\r\n      return `${song.singer} - ${song.album}`;\r\n    },\r\n    selectItem(song, index) {\r\n      this.$emit(\"select\", song, index);\r\n    },\r\n    getRankCls(index) {\r\n      if (index === 0) {\r\n        return \"top0\";\r\n      } else if (index === 1) {\r\n        return \"top1\";\r\n      } else if (index === 2) {\r\n        return \"top2\";\r\n      } else {\r\n        return \"rank-text\";\r\n      }\r\n    },\r\n    getRankText(index) {\r\n      if (index > 2) {\r\n        return index + 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.songitem {\r\n  display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  height: 64px;\r\n  font-size: 14px;\r\n  border-bottom: 1px #00000024 solid;\r\n}\r\n.content {\r\n  flex: 1;\r\n  line-height: 20px;\r\n  overflow: hidden;\r\n}\r\n.songimage {\r\n  position: absolute;\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n.songname {\r\n  color: #000;\r\n}\r\n.songdesc {\r\n  margin-top: 4px;\r\n  color: #008000a8;\r\n}\r\n.rank-icon {\r\n  flex: 0 0 25px;\r\n  width: 25px;\r\n  margin-right: 10px;\r\n  text-align: center;\r\n}\r\n.rank-text {\r\n  font-size: 20px;\r\n  color: #ff0000;\r\n}\r\n.top0 {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-image: url(../common/image/1.svg);\r\n}\r\n.top1 {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-image: url(../common/image/2.svg);\r\n}\r\n.top2 {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-image: url(../common/image/3.svg);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/songlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},[_c('ul',_vm._l((_vm.songs),function(song,index){return _c('div',{staticClass:\"songitem\",on:{\"click\":function($event){_vm.selectItem(song,index)}}},[(_vm.rank)?_c('div',{staticClass:\"rank-icon\"},[_c('span',{class:_vm.getRankCls(index)},[_vm._v(_vm._s(_vm.getRankText(index)))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"songname\"},[_vm._v(_vm._s(song.name))]),_vm._v(\" \"),_c('p',{staticClass:\"songdesc\"},[_vm._v(_vm._s(_vm.getDesc(song)))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5092b5d7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/songlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5092b5d7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./songlist.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./songlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./songlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5092b5d7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./songlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/songlist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"music-list\">\r\n      <div class=\"back\" @click=\"back\">\r\n        <i class=\"icon-back\"></i>\r\n      </div>\r\n      <h1 class=\"title\" v-html=\"title\"></h1>\r\n      <div class=\"bg-image\" :style='bgStyle' ref=\"bgImage\">\r\n        <div class=\"play-wrapper\">\r\n          <div class=\"play\" ref=\"playBtn\" v-show=\"songs.length>0\" @click=\"random\">\r\n            <i class=\"icon-play\"></i>\r\n            <span class=\"songtext\">随机播放全部</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"filter\" ref=\"filter\"></div>\r\n      </div>\r\n      <div class=\"bg-layer\" ref=\"layer\"></div>\r\n        <scroll @scroll='scroll' class=\"list\" ref=\"list\" :data=\"songs\" :listen-scroll=\"listenScroll\" :probe-type=\"probeType\">\r\n        <div class=\"song-list-wrapper\">\r\n            <songlist :rank=\"rank\"  :songs=\"songs\" @select=\"selectItem\"></songlist>\r\n        </div>\r\n       </scroll>\r\n       <div v-show=\"!songs.length\" class=\"loading-container\">\r\n           <loading :title=\"str\"></loading>\r\n       </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport scroll from \"../base/scroll\";\r\nimport loading from \"../base/loading\";\r\nimport songlist from \"../base/songlist\";\r\nimport {playlistMixin}from \"../common/js/mixin\";\r\nimport {mapActions,mapMutations} from \"vuex\";\r\nexport default {\r\n  mixins:[playlistMixin],\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    bgImage: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    songs: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n    rank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      scrollY: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.probeType = 3;\r\n    this.listenScroll = true;\r\n    this.str = \"歌手歌曲加载中\";\r\n  },\r\n  methods: {\r\n    handlePlaylist (playlist) {\r\n        const _bottom = playlist.length > 0 ? '60px' : '';\r\n        this.$refs.list.$el.style.bottom = _bottom;\r\n        this.$refs.list.refresh();\r\n    },\r\n    back() {\r\n      this.$router.back();\r\n    },\r\n    scroll(pos) {\r\n      this.scrollY = pos.y;\r\n    },\r\n    selectItem(song, index) {\r\n      this.selectPlay({\r\n        list:this.songs,\r\n        index:index\r\n      });\r\n    //  this.setstate(true);\r\n    },\r\n    random() {\r\n     this.randomPlay({\r\n       list:this.songs\r\n     })\r\n    },\r\n    ...mapActions([\r\n      'selectPlay',\r\n      'randomPlay'\r\n    ]),\r\n    ...mapMutations({\r\n       setstate: \"SET_PLAYING_STATE\"\r\n    })\r\n  },\r\n  mounted() {\r\n    this.imageHeight = this.$refs.bgImage.clientHeight;\r\n    this.minTranslateY = -this.imageHeight + 55;\r\n    this.$refs.list.$el.style.top = `${this.imageHeight}px`;\r\n  },\r\n  computed: {\r\n    bgStyle() {\r\n      return `background-image:url(${this.bgImage})`;\r\n    }\r\n  },\r\n  components: {\r\n    loading,\r\n    scroll,\r\n    songlist\r\n  },\r\n  watch: {\r\n    scrollY(newVal) {\r\n      let translateY = Math.max(this.minTranslateY, newVal);\r\n      let scale = 1;\r\n      let zIndex = 0;\r\n      let blur = 0;\r\n      const persent = Math.abs(newVal / this.imageHeight);\r\n      if (newVal > 0) {\r\n        scale = 1 + persent;\r\n        zIndex = 10;\r\n      } else {\r\n        blur = Math.min(20, persent * 20);\r\n      }\r\n      this.$refs.layer.style[\"transform\"] = `translate3d(0,${translateY}px,0)`;\r\n      this.$refs.filter.style[\"backdrop-filter\"] = `blur(${blur}px)`;\r\n      if (newVal < this.minTranslateY) {\r\n        zIndex = 10;\r\n        this.$refs.bgImage.style.paddingTop = 0;\r\n        this.$refs.bgImage.style.height = `${55}px`;\r\n        this.$refs.playBtn.style.display = 'none'\r\n      } else {\r\n        this.$refs.bgImage.style.paddingTop = \"70%\";\r\n        this.$refs.bgImage.style.height = 0;\r\n        // 10 7 比的简单实现\r\n        this.$refs.playBtn.style.display = ''\r\n      }\r\n      this.$refs.bgImage.style[\"transform\"] = `scale(${scale})`;\r\n      this.$refs.bgImage.style.zIndex = zIndex;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.music-list {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  background: #fff;\r\n}\r\n.back {\r\n  position: absolute;\r\n  top: 15px;\r\n  left: 6px;\r\n  z-index: 50;\r\n}\r\n.icon-back {\r\n  display: block;\r\n  padding: 8px;\r\n  font-size: 16px;\r\n  background-image: url(../common/image/back.svg);\r\n}\r\n.filter {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(7, 17, 27, 0.4);\r\n}\r\n.title {\r\n  position: absolute;\r\n  top: 15px;\r\n  left: 10%;\r\n  z-index: 40;\r\n  width: 80%;\r\n  /* no-wrap(); */\r\n  text-align: center;\r\n  line-height: 40px;\r\n  font-size: 18px;\r\n  color: #fff;\r\n}\r\n.bg-image {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 0;\r\n  padding-top: 70%;\r\n  transform-origin: top;\r\n  background-size: cover;\r\n}\r\n.loading-container {\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 50%;\r\n}\r\n.bg-layer {\r\n  position: relative;\r\n  height: 100%;\r\n  background: #fff;\r\n  overflow: hidden;\r\n}\r\n.list {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: #fff;\r\n}\r\n.song-list-wrapper {\r\n  padding: 0 0 0 20px;\r\n}\r\n.play-wrapper {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  z-index: 50;\r\n  width: 100%;\r\n}\r\n.play {\r\n  box-sizing: border-box;\r\n  width: 135px;\r\n  padding: 7px 0;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  border: 1px solid #ffcd32;\r\n  color: #ffcd32;\r\n  border-radius: 100px;\r\n  font-size: 0;\r\n}\r\n.icon-play {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  margin-right: 6px;\r\n  background-image: url(../common/image/randomplay.svg);\r\n  height: 16px;\r\n  width: 16px;\r\n}\r\n.songtext{\r\n   display: inline-block;\r\n   vertical-align: middle;\r\n   font-size: 10px;\r\n   height: 20px;\r\n   line-height: 20px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/musiclist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_vm._v(\" \"),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length>0),expression:\"songs.length>0\"}],ref:\"playBtn\",staticClass:\"play\",on:{\"click\":_vm.random}},[_c('i',{staticClass:\"icon-play\"}),_vm._v(\" \"),_c('span',{staticClass:\"songtext\"},[_vm._v(\"随机播放全部\")])])]),_vm._v(\" \"),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_vm._v(\" \"),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_vm._v(\" \"),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"data\":_vm.songs,\"listen-scroll\":_vm.listenScroll,\"probe-type\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"song-list-wrapper\"},[_c('songlist',{attrs:{\"rank\":_vm.rank,\"songs\":_vm.songs},on:{\"select\":_vm.selectItem}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loading',{attrs:{\"title\":_vm.str}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d0d81f30\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/musiclist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d0d81f30\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./musiclist.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./musiclist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./musiclist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d0d81f30\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./musiclist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/musiclist.vue\n// module id = null\n// module chunks = ","<template>\r\n <transition name=\"slide\">\r\n  <musiclist class=\"singer-detail\" :title =\"title\" :bgImage=\"bgImage\" :songs=\"songs\"></musiclist>\r\n </transition>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getSingerDetail } from \"../api/singer\";\r\nimport { ERR_OK } from \"../api/config\";\r\nimport {createSong} from '../common/js/song';\r\nimport musiclist from '../components/musiclist'; \r\nexport default {\r\n  data() {\r\n    return {\r\n      songs: []\r\n    };\r\n  },\r\n  created() {\r\n    this._getDetail();\r\n    console.log(this.singer);\r\n  },\r\n  computed: {\r\n    title(){\r\n      return this.singer.name;\r\n    },\r\n    bgImage () {\r\n        return this.singer.avatar\r\n    },\r\n    ...mapGetters([\"singer\"])\r\n  },\r\n  methods: {\r\n    _getDetail() {\r\n      if (!this.singer.id) {\r\n        this.$router.push(\"/singer\");\r\n        //判断是否有singer值\r\n        return;\r\n      }\r\n      getSingerDetail(this.singer.id).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.songs = this._normalLizeSongs(res.data.list);\r\n          console.log(this.songs);\r\n        }\r\n      });\r\n    },\r\n    _normalLizeSongs(list){\r\n        let ret = [];\r\n        list.forEach(item => {\r\n            let {musicData} = item;\r\n            if(musicData.songid&&musicData.albummid){\r\n                ret.push(createSong(musicData));\r\n            }\r\n        });\r\n        return ret;\r\n    }\r\n  },\r\n  components:{\r\n    musiclist\r\n  }\r\n};\r\n</script>\r\n<style >\r\n.singer-detail {\r\n  z-index: 100;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  background: #fff;\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\n.slide-enter-active, .slide-leave-active{\r\n  transition:all .3s;\r\n}\r\n.slide-enter, .slide-leave-to{\r\n   transform:translate3d(100%, 0, 0);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/singerdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('musiclist',{staticClass:\"singer-detail\",attrs:{\"title\":_vm.title,\"bgImage\":_vm.bgImage,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-009072e0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singerdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-009072e0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singerdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./singerdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./singerdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-009072e0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./singerdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singerdetail.vue\n// module id = null\n// module chunks = ","<template>\r\n    <!-- 排行曲目 -->\r\n    <transition name=\"rank-slide\">\r\n    <musiclist :songs=\"songs\" :title=\"title\" :bgImage=\"bgImage\" class=\"rank-detail\" :rank=\"true\"></musiclist>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { createSong } from \"../common/js/song.js\";\r\nimport musiclist from \"../components/musiclist\";\r\nimport { getRankDetail } from \"../api/rank.js\";\r\nexport default {\r\n  components: {\r\n    musiclist\r\n  },\r\n  data() {\r\n    return {\r\n      songs: []\r\n    };\r\n  },\r\n  methods: {\r\n    _getRankDetail() {\r\n      if (!this.rankList.id) {\r\n        this.$router.push(\"/rank\"); //本页禁止刷新\r\n        return;\r\n      }\r\n      getRankDetail(this.rankList.id).then(res => {\r\n        if (res.code === 0) {\r\n          //   console.log(res.songlist)\r\n          this.songs = this._formatSong(res.songlist);\r\n        }\r\n      });\r\n    },\r\n    _formatSong(list) {\r\n      let result = [];\r\n      list.forEach(item => {\r\n        if (item.data.songid && item.data.albummid) {\r\n          result.push(createSong(item.data));\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"rankList\"]),\r\n    title() {\r\n      return this.rankList.topTitle;\r\n    },\r\n    bgImage() {\r\n    return this.rankList.picUrl;\r\n    }\r\n  },\r\n  created() {\r\n    this._getRankDetail();\r\n    console.log(this.rankList);\r\n  },\r\n  mounted() {\r\n    console.log(this.title);\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.rank-slide-enter-active,\r\n.rank-slide-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.rank-slide-enter,\r\n.rank-slide-leave-to {\r\n  opacity: 0;\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n.rank-detail {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/rankdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"rank-slide\"}},[_c('musiclist',{staticClass:\"rank-detail\",attrs:{\"songs\":_vm.songs,\"title\":_vm.title,\"bgImage\":_vm.bgImage,\"rank\":true}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45526ec0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/rankdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45526ec0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rankdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./rankdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./rankdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45526ec0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./rankdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rankdetail.vue\n// module id = null\n// module chunks = ","<template>\r\n    <transition name=\"list-slide\">\r\n      <musiclist :songs=\"songs\" :title=\"title\" :bgImage=\"bgImage\" class=\"list-detail\" ></musiclist>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getSongList } from \"../api/recommend.js\";\r\nimport musiclist from \"../components/musiclist\";\r\nimport { createSong } from \"../common/js/song.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      songs: []\r\n    };\r\n  },\r\n  methods: {\r\n    _getSongList() {\r\n      if (!this.songlist.dissid) {\r\n        this.$router.push(\"/recommend\");\r\n        return;\r\n      }\r\n      getSongList(this.songlist.dissid).then(res => {\r\n        if(res.code ===0){\r\n            this.songs = this._formatSong(res.cdlist[0].songlist);\r\n        }\r\n      });\r\n    },\r\n     _formatSong(list) {\r\n      let result = [];\r\n      list.forEach(item => {\r\n        if (item.songid && item.albummid) {\r\n          result.push(createSong(item));\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n  },\r\n  created() {\r\n    this._getSongList();\r\n  },\r\n  components: {\r\n    musiclist\r\n  },\r\n  computed: {\r\n    // vuex, 使用对象展开运算符将 getters 混入 computed 对象中\r\n    ...mapGetters([\"songlist\"]),\r\n    // 传入子组件\r\n    title() {\r\n      return this.songlist.dissname;\r\n    },\r\n    // 传入子组件\r\n    bgImage() {\r\n      return this.songlist.imgurl;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.list-slide-enter-active,\r\n.list-slide-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.list-slide-enter,\r\n.list-slide-leave-to {\r\n  opacity: 0;\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n.list-detail {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/songListdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"list-slide\"}},[_c('musiclist',{staticClass:\"list-detail\",attrs:{\"songs\":_vm.songs,\"title\":_vm.title,\"bgImage\":_vm.bgImage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e3668d0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/songListdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e3668d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./songListdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./songListdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./songListdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e3668d0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./songListdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/songListdetail.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport recommend from './../components/recommend'\nimport singer from './../components/singer'\nimport rank from './../components/rank'\nimport search from './../components/search'\nimport singerdetail from './../components/singerdetail'\nimport rankdetail from './../components/rankdetail'\nimport songListdetail from './../components/songListdetail'\nVue.use(Router)\nexport default new Router({\n    routes: [{\n            path: '/',\n            component: recommend,\n            redirect: '/recommend'\n        },\n        {\n            path: '/recommend',\n            component: recommend,\n            children: [{\n                path: ':id',\n                name: 'songlistdetail',\n                component: songListdetail\n            }]\n        },\n        {\n            path: '/singer',\n            component: singer,\n            children: [{\n                path: ':id',\n                component: singerdetail\n            }]\n        },\n        {\n            path: '/rank',\n            component: rank,\n            children: [{\n                path: ':id',\n                name: 'rankdetail',\n                component: rankdetail\n            }]\n        },\n        {\n            path: '/search',\n            component: search,\n            children: [{\n                path: ':id',\n                component: singerdetail\n            }]\n        },\n    ]\n})\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import * as types from './mutation-types';\r\nimport { playMode } from \"../common/js/config\";\r\nimport { shuffle } from \"../common/js/util\"\r\n\r\nfunction _findindex(list, song) {\r\n    return list.findIndex((item) => {\r\n        return item.id === song.id;\r\n    })\r\n}\r\n\r\nexport const randomPlay = function({ commit }, { list }) {\r\n    let randomlist = shuffle(list);\r\n    commit(types.SET_PLAY_MODE, playMode.random); //初始化播放模式\r\n    // store.setstore.setMode(playMode.random);\r\n    // store.setstore.setMode(3);\r\n    commit(types.SET_SEQUENCE_LIST, list); //初始化有序序列\r\n    commit(types.SET_PLAYLIST, randomlist); //初始播放化序列\r\n    commit(types.SET_CURRENT_INDEX, 0); //随机播放默认取第0个\r\n    commit(types.SET_FULL_SCREEN, true); //默认全屏显示播放器\r\n    // commit(types.SET_PLAYING_STATE, true); //开启播放\r\n    // store.setstore.setPlaylist(list);\r\n}\r\nexport const selectPlay = function({ commit, state }, { list, index }) {\r\n    commit(types.SET_SEQUENCE_LIST, list) //初始化有序序列\r\n    if (state.mode === playMode.random) {\r\n        //随机播放\r\n        let randomlist = shuffle(list)\r\n        commit(types.SET_PLAYLIST, randomlist); //设置随机序列\r\n        index = _findindex(randomlist, list[index]); //找到此曲\r\n    } else {\r\n        commit(types.SET_PLAYLIST, list); //设置序列\r\n    }\r\n    // 剩下的照常提交\r\n    commit(types.SET_CURRENT_INDEX, index); //随机播放默认取第0个\r\n    commit(types.SET_FULL_SCREEN, true); //默认全屏显示播放器\r\n    // commit(types.SET_PLAYING_STATE, true); //开启播放\r\n}\r\n\r\nexport const likeSong = function({ commit, state }, { song }) {\r\n    if (_findindex(state.likelist, song) !== -1) {\r\n        return;\r\n    } //检测是否存在\r\n    commit(types.SET_LIKE_LIST, song); //加入喜欢队列\r\n}\r\nexport const unlikeSong = function({ commit, state }, { song }) {\r\n    if (_findindex(state.likelist, song) === -1) {\r\n        return; //未查询到歌曲\r\n    }\r\n    commit(types.DEL_LIKE_LIST, _findindex(state.likelist, song));\r\n}\r\nexport const deleteSonglist = function({ commit, state }) {\r\n    commit(types.SET_PLAYLIST, []); //播放列表空\r\n    commit(types.SET_SEQUENCE_LIST, []); //序列空\r\n    commit(types.SET_CURRENT_INDEX, -1); //曲目空\r\n    commit(types.SET_PLAYING_STATE, false); //停止播放\r\n}\r\nexport const deleteSong = function({ commit, state }, song) {\r\n    let playlist = state.playlist.slice(0);\r\n    let sequenceList = state.sequenceList.slice(0);\r\n    let currentIndex = state.currentIndex;\r\n    let pIndex = _findindex(playlist, song);\r\n    playlist.splice(pIndex, 1); //删去指定歌曲\r\n    let sIndex = _findindex(sequenceList, song);\r\n    sequenceList.splice(sIndex, 1);\r\n    if (currentIndex > pIndex || currentIndex === playlist.length) {\r\n        currentIndex--;\r\n    } //若删除在之前\r\n    commit(types.SET_PLAYLIST, playlist); //曲表变\r\n    commit(types.SET_SEQUENCE_LIST, sequenceList);\r\n    commit(types.SET_CURRENT_INDEX, currentIndex);\r\n\r\n    let playingState = playlist.length > 0;\r\n    // commit(types.SET_PLAYING_STATE, playingState);\r\n}\r\nexport const saveHistory = function({ commit, state }, query) {\r\n    let history = state.searchHistory.slice(0);\r\n    console.log('检测是否在');\r\n    let index = history.findIndex((item) => {\r\n        return item === query\r\n    });\r\n    if (index === -1) {\r\n        history.push(query);\r\n    }\r\n    commit(types.SET_SEARCHHISTORY, history);\r\n}\r\n\r\nexport const delHistory = function({ commit, state }, query) {\r\n    let history = state.searchHistory.slice(0);\r\n    //找到history中关键字并删除\r\n    let i = history.findIndex((item) => {\r\n        return item === query;\r\n    })\r\n    history.splice(i, 1);\r\n    commit(types.SET_SEARCHHISTORY, history);\r\n}\r\nexport const clearHistory = function({ commit }) {\r\n    commit(types.SET_SEARCHHISTORY, []);\r\n}\r\nexport const insertSong = function({ commit, state }, song) {\r\n    let playlist = state.playlist.slice(0);\r\n    let sequenceList = state.sequenceList.slice(0);\r\n    let currentIndex = state.currentIndex;\r\n    //记录当前歌曲\r\n    let currentSong = playlist[currentIndex];\r\n\r\n    //查找是否已存在\r\n    let fpIndex = _findindex(playlist, song);\r\n    currentIndex++; //当前歌曲下一首为新插入歌曲\r\n\r\n    playlist.splice(currentIndex, 0, song); //往数组指定位置加当前歌曲；\r\n    if (fpIndex !== -1) {\r\n        //以前有歌曲\r\n        if (currentIndex > fpIndex) {\r\n            //插入歌曲下标比以前大 \r\n            playlist.splice(fpIndex, 1); //直接删除重复歌曲\r\n            currentIndex--;\r\n        } else {\r\n            playlist.splice(fpIndex + 1, 1); //插入后下标增加\r\n        }\r\n    }\r\n    let currentSIndex = _findindex(sequenceList, currentSong) + 1; //找到插入前播放的下标 \r\n    // //查找歌曲是否已在列表中\r\n    let fsIndex = _findindex(sequenceList, song);\r\n    sequenceList.splice(currentSIndex, 0, song);\r\n    if (fsIndex > -1) {\r\n        if (currentSIndex > fsIndex) {\r\n            sequenceList.splice(fsIndex, 1);\r\n        } else {\r\n            sequenceList.splice(fsIndex + 1, 1); //同上\r\n        }\r\n    }\r\n    commit(types.SET_PLAYLIST, playlist);\r\n    commit(types.SET_SEQUENCE_LIST, sequenceList);\r\n    console.log(currentIndex);\r\n    commit(types.SET_CURRENT_INDEX, currentIndex);\r\n    // commit(types.SET_PLAYING_STATE, true);\r\n    commit(types.SET_FULL_SCREEN, true);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","export const SET_SINGER = 'SET_SINGER';\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\r\nexport const SET_SEQUENCE_LIST = 'SET_SEQUENCE_LIST';\r\nexport const SET_PLAY_MODE = 'SET_PLAY_MODE';\r\nexport const SET_CURRENT_INDEX = 'SET_CURRENT_INDEX';\r\nexport const SET_FULL_SCREEN = 'SET_FULL_SCREEN';\r\nexport const SET_PLAYING_STATE = 'SET_PLAYING_STATE';\r\nexport const SET_LIKE_LIST = 'SET_LIKE_LIST';\r\nexport const DEL_LIKE_LIST = 'DEL_LIKE_LIST';\r\nexport const SET_SEARCHHISTORY = 'SET_SEARCHHISTORY';\r\nexport const SET_RANKLIST = 'SET_RANKLIST'\r\nexport const SET_SONGLIST = 'SET_SONGLIST';\r\nexport const SET_LOGIN = 'SET_LOGIN';\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","export const singer = state => state.singer;\r\nexport const playlist = state => state.playlist;\r\nexport const sequenceList = state => state.sequenceList;\r\nexport const mode = state => state.mode;\r\nexport const currentIndex = state => state.currentIndex;\r\nexport const fullScreen = state => state.fullScreen;\r\nexport const playing = state => state.playing;\r\nexport const currentSong = state => {\r\n    return state.playlist[state.currentIndex] || {};\r\n}\r\nexport const likelist = state => state.likelist;\r\nexport const searchHistory = state => state.searchHistory;\r\nexport const rankList = state => state.rankList;\r\nexport const songlist = state => state.songlist;\r\nexport const login = state => state.login;\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import { playMode } from \"../common/js/config\";\r\nimport store from \"../common/js/store\";\r\nimport { createSonglist } from \"../common/js/song\"\r\nconst state = {\r\n    singer: {},\r\n    playing: false,\r\n    // playlist: [],\r\n    // sequenceList: [],\r\n    playlist: createSonglist(store.getstore.getPlaylist()).length ? createSonglist(store.getstore.getPlaylist()) : [],\r\n    sequenceList: createSonglist(store.getstore.getsequenceList()).length ? createSonglist(store.getstore.getsequenceList()) : [],\r\n    mode: parseInt(store.getstore.getMode()),\r\n    fullScreen: false,\r\n    // currentIndex: -1,\r\n    currentIndex: parseInt(store.getstore.getIndex()),\r\n    likelist: store.getstore.getLikelist() ? store.getstore.getLikelist() : [],\r\n    searchHistory: store.getstore.getSearchHisory() ? store.getstore.getSearchHisory() : [], //搜索历史\r\n    rankList: {},\r\n    songlist: {},\r\n    login: false //登陆\r\n}\r\nconsole.log(state);\r\nexport default state\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","import * as types from './mutation-types'\r\nimport store from \"../common/js/store\";\r\nconst mutations = {\r\n    [types.SET_SINGER](state, singer) {\r\n        state.singer = singer;\r\n    },\r\n    [types.SET_PLAYLIST](state, list) {\r\n        state.playlist = list;\r\n        store.setstore.setPlaylist(list);\r\n\r\n    },\r\n    [types.SET_SEQUENCE_LIST](state, list) {\r\n        state.sequenceList = list;\r\n        store.setstore.setsequenceList(list);\r\n\r\n    },\r\n    [types.SET_PLAY_MODE](state, mode) {\r\n        state.mode = mode;\r\n        store.setstore.setMode(mode);\r\n    },\r\n    [types.SET_CURRENT_INDEX](state, index) {\r\n        state.currentIndex = index;\r\n        store.setstore.setIndex(index);\r\n    },\r\n    [types.SET_FULL_SCREEN](state, bol) {\r\n        state.fullScreen = bol;\r\n    },\r\n    [types.SET_PLAYING_STATE](state, flag) {\r\n        state.playing = flag;\r\n    },\r\n    [types.SET_LIKE_LIST](state, song) {\r\n        state.likelist.push(song);\r\n        store.setstore.setLikelist(state.likelist);\r\n    },\r\n    [types.DEL_LIKE_LIST](state, index) {\r\n        if (index !== -1 && index < state.likelist.length) {\r\n            state.likelist.splice(index, 1);\r\n        }\r\n        store.setstore.setLikelist(state.likelist);\r\n    },\r\n    [types.SET_SEARCHHISTORY](state, searchHistory) {\r\n        state.searchHistory = searchHistory;\r\n        store.setstore.setSearchHisory(searchHistory);\r\n    },\r\n    [types.SET_RANKLIST](state, rankList) {\r\n        state.rankList = rankList\r\n    },\r\n    [types.SET_SONGLIST](state, songlist) {\r\n        state.songlist = songlist\r\n    },\r\n    [types.SET_LOGIN](state, val) {\r\n        state.login = val\r\n    }\r\n}\r\n\r\nexport default mutations\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport * as actions from './actions'\r\nimport * as getters from './getters'\r\nimport state from './state'\r\nimport mutations from './mutations'\r\nimport createLogger from 'vuex/dist/logger'\r\nVue.use(Vuex);\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default new Vuex.Store({\r\n    actions,\r\n    getters,\r\n    state,\r\n    mutations,\r\n    strict: debug,\r\n    plugins: debug ? [createLogger()] : []\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport fastlick from 'fastclick'\nimport VueLazyLoad from 'vue-lazyload'\nimport './common/css/index.css'\nimport store from './store/index'\n//去除300ms\n// fastlick.attach(document.body);\n\nVue.config.productionTip = false\n\nVue.use(VueLazyLoad, {\n    loading: require('./common/image/loding.png')\n})\n\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    router,\n    store,\n    render: h => h(App)\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAASdSURBVGhD7ZpXb+swDEaZdO+9d9E+tED71P//UzrQvfde9x42DBRnOMNO5DYfQNhRbFnHpERFSur7v+QPKZ05/hk1gZOsr68v+fz8lFK9NPF9GMi3tzd5f3+Xh4cHPXZ2dkpfX58eU6lU5sofJRL44+NDXl9fFfTx8VHu7u7k+flZvQsgSP39/bKwsCBdXV2Zu36UGGA8BxTH+/t79SbQQKbTaQU1b4JEOcATExNaZvIaGA8+PT0pKEcMSJpsgAYZFMBjY2MyNzcnLS0tmVIPgV9eXjRMgTQDEoVBugJ4eHhYvdza2pop9QQYzxGiHAEGkNClaYQrKgfSlXfAADLY4E0bZRmMkMFVCunKC2AGm5ubGz0CR6MwFAWkq4YBA4jhUSDJm5gLFhWkq7oDX19fy/7+voYq4jFxQ7oqBhzL1BJvHh4eZkdXBKBrjVIswAxEmDshaCSkq8iB6Z+kFoP1TbF42EdQUyzAPqsJnESR8szClFhg4NwVDnItFgadKGAXEmNFY2RkRGZnZ9VY5Ug8cBCSFYzx8XFZXl7WWdT8/LxMTk4qeFtbWzKBDZK5N+fd3d0Ktbq6KouLizIzMyOjo6PqUZs2cn0YLPIGOAgJDKsVQOLN6elpGRoakp6enpy5caVqKDBghKn92B8cHJSlpSVZW1tTSNajBgYGtK+6yzS1qO7ALiQe5RfNysqKbGxsKCyhihfpj7baEaXqAmyQrGxwzgCzvr4uW1tb6kk+d3R0qBfjnpbGDgwgEAw6m5ubWUj6KOX1nnfHDkzYMtiQJxltG626hDTQhLQPqguwT2oC/3Y1gX+7msA+iiVfdi/Oz8/l7OxMjXPK+A6Vu0oa+c4DOffg4EBOT091qkj+LbQDECa2Sa+urrK7idQTzOXUj/HjAgP+9vZW4Ys91zsPA7i3tyfb29v60oBmG5V5uEGb2YY515ycnOiOR5iXvQLGQ4BeXFyohwk+vGXhWsjsO64lujgvJW+A8Rb7UcE+GQaA7LpyrvUGmL7HIGSgcckLYELR/R9HVCo0Hns3aEUlYFnhJGJcVQxMRTZAYPbZVI2HaBQrHsitq1pZHe3t7XnAoXmYry0NMKBghB+jKHD8441r+HHPghtlx8fHFedhBq3d3d1sHq02tGkLjqAtLOkC7aooMMU0ggaQJshxlNkbswbZ7RwpYwEOkR+5tlxgxMskB1tKsmeEwQfbQCjzPGuLq4LAFJHMj46O9OH2xst5sFVnL6YSYMTziA6LJO4v9Wx7JtGEN4k4lnetiwSVB8zHy8tLnR6ylFpLeKFKgU2A29SSSLO/ObkCkjoBZWrJc4J/Jg0qD5jQ3dnZ0bdrXqpF1QK7Ah5w25VAOIH6AA2DdJUDzCnhRD9iITwKRQEcpXJcyOhG+EThWVeEni/KIQO0nC3HSkRdtqvgg3KA6Re2OxcFNBFDXdRZy8AXpfJit7e3V7dF6Hu1QAML5NTUlNbpi4rmYZZRSE2AE47leoh77R62V9it98W7qCCwidRka0ikBMvJZojbzSyEgcSKJf9GqiSwK/Iz/5AlHzILwosIT9JHyYdsmvkUvvkS+QeTsq8egvHyWAAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/image/loding.png\n// module id = qbFw\n// module chunks = 1","module.exports = \"data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/image/loading.gif\n// module id = zUsG\n// module chunks = 1"],"sourceRoot":""}